{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/hammy/prompt-generator-spec/code-examples/app/components/Icons.tsx"],"sourcesContent":["// Modern icon components using Heroicons style\n// Consistent 24x24 viewBox, strokeWidth 1.5-2\n// Includes finance-specific icons for business/financial analysis\n\nexport const Icons = {\n  // Navigation\n  home: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25\" />\n    </svg>\n  ),\n\n  // Actions\n  sparkles: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456z\" />\n    </svg>\n  ),\n\n  play: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z\" />\n    </svg>\n  ),\n\n  copy: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M15.666 3.888A2.25 2.25 0 0013.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 01-.75.75H9a.75.75 0 01-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 01-2.25 2.25H6.75A2.25 2.25 0 014.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 011.927-.184\" />\n    </svg>\n  ),\n\n  check: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M4.5 12.75l6 6 9-13.5\" />\n    </svg>\n  ),\n\n  // Features\n  variable: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M17.25 6.75L22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3l-4.5 16.5\" />\n    </svg>\n  ),\n\n  compress: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M9 9V4.5M9 9H4.5M9 9L3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5l5.25 5.25\" />\n    </svg>\n  ),\n\n  shield: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z\" />\n    </svg>\n  ),\n\n  calculator: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008zm0 2.25h.008v.008H8.25V13.5zm0 2.25h.008v.008H8.25v-.008zm0 2.25h.008v.008H8.25V18zm2.498-6.75h.007v.008h-.007v-.008zm0 2.25h.007v.008h-.007V13.5zm0 2.25h.007v.008h-.007v-.008zm0 2.25h.007v.008h-.007V18zm2.504-6.75h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V13.5zm0 2.25h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V18zm2.498-6.75h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V13.5zM8.25 6h7.5v2.25h-7.5V6zM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 002.25 2.25h10.5a2.25 2.25 0 002.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0012 2.25z\" />\n    </svg>\n  ),\n\n  wand: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M15.042 21.672L13.684 16.6m0 0l-2.51 2.225.569-9.47 5.227 7.917-3.286-.672zM12 2.25V4.5m5.834.166l-1.591 1.591M20.25 10.5H18M7.757 14.743l-1.59 1.59M6 10.5H3.75m4.007-4.243l-1.59-1.59\" />\n    </svg>\n  ),\n\n  template: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z\" />\n    </svg>\n  ),\n\n  history: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z\" />\n    </svg>\n  ),\n\n  lightbulb: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 18v-5.25m0 0a6.01 6.01 0 001.5-.189m-1.5.189a6.01 6.01 0 01-1.5-.189m3.75 7.478a12.06 12.06 0 01-4.5 0m3.75 2.383a14.406 14.406 0 01-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 10-7.517 0c.85.493 1.509 1.333 1.509 2.316V18\" />\n    </svg>\n  ),\n\n  help: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z\" />\n    </svg>\n  ),\n\n  info: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z\" />\n    </svg>\n  ),\n\n  arrowRight: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3\" />\n    </svg>\n  ),\n\n  arrowLeft: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18\" />\n    </svg>\n  ),\n\n  chevronRight: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M8.25 4.5l7.5 7.5-7.5 7.5\" />\n    </svg>\n  ),\n\n  chevronDown: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M19.5 8.25l-7.5 7.5-7.5-7.5\" />\n    </svg>\n  ),\n\n  settings: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z\" />\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n    </svg>\n  ),\n\n  eye: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z\" />\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n    </svg>\n  ),\n\n  bolt: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z\" />\n    </svg>\n  ),\n\n  beaker: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M9.75 3.104v5.714a2.25 2.25 0 01-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 014.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0112 15a9.065 9.065 0 00-6.23.693L5 14.5m14.8.8l1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0112 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5\" />\n    </svg>\n  ),\n\n  star: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z\" />\n    </svg>\n  ),\n\n  github: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\" fill=\"currentColor\" stroke=\"none\">\n      <path fillRule=\"evenodd\" d=\"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z\" clipRule=\"evenodd\" />\n    </svg>\n  ),\n\n  x: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6 18L18 6M6 6l12 12\" />\n    </svg>\n  ),\n\n  plus: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 4.5v15m7.5-7.5h-15\" />\n    </svg>\n  ),\n\n  minus: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M19.5 12h-15\" />\n    </svg>\n  ),\n\n  refresh: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99\" />\n    </svg>\n  ),\n\n  trash: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0\" />\n    </svg>\n  ),\n\n  download: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3\" />\n    </svg>\n  ),\n\n  upload: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5\" />\n    </svg>\n  ),\n\n  // ============================================\n  // FINANCE-SPECIFIC ICONS\n  // ============================================\n\n  // Chart & Analytics\n  chart: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z\" />\n    </svg>\n  ),\n\n  chartLine: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941\" />\n    </svg>\n  ),\n\n  pieChart: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M10.5 6a7.5 7.5 0 107.5 7.5h-7.5V6z\" />\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M13.5 10.5H21A7.5 7.5 0 0013.5 3v7.5z\" />\n    </svg>\n  ),\n\n  trendingUp: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941\" />\n    </svg>\n  ),\n\n  trendingDown: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M2.25 6L9 12.75l4.286-4.286a11.948 11.948 0 014.306 6.43l.776 2.898m0 0l3.182-5.511m-3.182 5.51l-5.511-3.181\" />\n    </svg>\n  ),\n\n  // Finance & Business\n  briefcase: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 00.75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 00-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0112 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 01-.673-.38m0 0A2.18 2.18 0 013 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 013.413-.387m7.5 0V5.25A2.25 2.25 0 0013.5 3h-3a2.25 2.25 0 00-2.25 2.25v.894m7.5 0a48.667 48.667 0 00-7.5 0M12 12.75h.008v.008H12v-.008z\" />\n    </svg>\n  ),\n\n  building: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008zm0 3h.008v.008h-.008v-.008zm0 3h.008v.008h-.008v-.008z\" />\n    </svg>\n  ),\n\n  bankNotes: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z\" />\n    </svg>\n  ),\n\n  dollar: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n    </svg>\n  ),\n\n  percent: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M8.25 6.75a1.5 1.5 0 100 3 1.5 1.5 0 000-3zm7.5 9a1.5 1.5 0 100 3 1.5 1.5 0 000-3zM6 18.75L18 5.25\" />\n    </svg>\n  ),\n\n  wallet: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M21 12a2.25 2.25 0 00-2.25-2.25H15a3 3 0 11-6 0H5.25A2.25 2.25 0 003 12m18 0v6a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 9m18 0V6a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 6v3\" />\n    </svg>\n  ),\n\n  // Documents & Reports\n  document: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z\" />\n    </svg>\n  ),\n\n  documentChart: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25M9 16.5v.75m3-3v3.75m3-6v6.75m1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z\" />\n    </svg>\n  ),\n\n  presentation: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M3.75 3v11.25A2.25 2.25 0 006 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0118 16.5h-2.25m-7.5 0h7.5m-7.5 0l-1 3m8.5-3l1 3m0 0l.5 1.5m-.5-1.5h-9.5m0 0l-.5 1.5M9 11.25v1.5M12 9v3.75m3-6v6\" />\n    </svg>\n  ),\n\n  spreadsheet: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 01-1.125-1.125M3.375 19.5h7.5c.621 0 1.125-.504 1.125-1.125m-9.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-7.5A1.125 1.125 0 0112 18.375m9.75-12.75c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125m19.5 0v1.5c0 .621-.504 1.125-1.125 1.125M2.25 5.625v1.5c0 .621.504 1.125 1.125 1.125m0 0h17.25m-17.25 0h7.5c.621 0 1.125.504 1.125 1.125M3.375 8.25c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m17.25-3.75h-7.5c-.621 0-1.125.504-1.125 1.125m8.625-1.125c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M12 10.875v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125M13.125 12h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125M20.625 12c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5M12 14.625v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 14.625c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m0 1.5v-1.5m0 0c0-.621.504-1.125 1.125-1.125m0 0h7.5\" />\n    </svg>\n  ),\n\n  clipboard: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z\" />\n    </svg>\n  ),\n\n  // Strategy & Analysis\n  target: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 21a9 9 0 100-18 9 9 0 000 18z\" />\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 15a3 3 0 100-6 3 3 0 000 6z\" />\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 12h.01\" />\n    </svg>\n  ),\n\n  scale: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0012 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 01-2.031.352 5.988 5.988 0 01-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.97zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 01-2.031.352 5.989 5.989 0 01-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.97z\" />\n    </svg>\n  ),\n\n  puzzle: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M14.25 6.087c0-.355.186-.676.401-.959.221-.29.349-.634.349-1.003 0-1.036-1.007-1.875-2.25-1.875s-2.25.84-2.25 1.875c0 .369.128.713.349 1.003.215.283.401.604.401.959v0a.64.64 0 01-.657.643 48.39 48.39 0 01-4.163-.3c.186 1.613.293 3.25.315 4.907a.656.656 0 01-.658.663v0c-.355 0-.676-.186-.959-.401a1.647 1.647 0 00-1.003-.349c-1.036 0-1.875 1.007-1.875 2.25s.84 2.25 1.875 2.25c.369 0 .713-.128 1.003-.349.283-.215.604-.401.959-.401v0c.31 0 .555.26.532.57a48.039 48.039 0 01-.642 5.056c1.518.19 3.058.309 4.616.354a.64.64 0 00.657-.643v0c0-.355-.186-.676-.401-.959a1.647 1.647 0 01-.349-1.003c0-1.035 1.008-1.875 2.25-1.875 1.243 0 2.25.84 2.25 1.875 0 .369-.128.713-.349 1.003-.215.283-.4.604-.4.959v0c0 .333.277.599.61.58a48.1 48.1 0 005.427-.63 48.05 48.05 0 00.582-4.717.532.532 0 00-.533-.57v0c-.355 0-.676.186-.959.401-.29.221-.634.349-1.003.349-1.035 0-1.875-1.007-1.875-2.25s.84-2.25 1.875-2.25c.37 0 .713.128 1.003.349.283.215.604.401.96.401v0a.656.656 0 00.658-.663 48.422 48.422 0 00-.37-5.36c-1.886.342-3.81.574-5.766.689a.578.578 0 01-.61-.58v0z\" />\n    </svg>\n  ),\n\n  globe: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0121 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0112 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 013 12c0-1.605.42-3.113 1.157-4.418\" />\n    </svg>\n  ),\n\n  layers: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6.429 9.75L2.25 12l4.179 2.25m0-4.5l5.571 3 5.571-3m-11.142 0L2.25 7.5 12 2.25l9.75 5.25-4.179 2.25m0 0L21.75 12l-4.179 2.25m0 0l4.179 2.25L12 21.75 2.25 16.5l4.179-2.25m11.142 0l-5.571 3-5.571-3\" />\n    </svg>\n  ),\n\n  adjustments: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75\" />\n    </svg>\n  ),\n\n  // M&A & Deal specific\n  handshake: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z\" />\n    </svg>\n  ),\n\n  merge: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M7.5 21L3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5\" />\n    </svg>\n  ),\n\n  flag: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M3 3v1.5M3 21v-6m0 0l2.77-.693a9 9 0 016.208.682l.108.054a9 9 0 006.086.71l3.114-.732a48.524 48.524 0 01-.005-10.499l-3.11.732a9 9 0 01-6.085-.711l-.108-.054a9 9 0 00-6.208-.682L3 4.5M3 15V4.5\" />\n    </svg>\n  ),\n\n  // User & Roles\n  userCircle: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z\" />\n    </svg>\n  ),\n\n  users: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z\" />\n    </svg>\n  ),\n\n  academic: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.697 50.697 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 100-1.5.75.75 0 000 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5\" />\n    </svg>\n  ),\n\n  // Clock & Time\n  clock: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z\" />\n    </svg>\n  ),\n\n  calendar: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5\" />\n    </svg>\n  ),\n\n  // Export\n  arrowDownTray: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3\" />\n    </svg>\n  ),\n\n  // Search & Filter\n  search: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z\" />\n    </svg>\n  ),\n\n  filter: (props: IconProps) => (\n    <svg {...iconProps(props)} viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 01-.659 1.591l-5.432 5.432a2.25 2.25 0 00-.659 1.591v2.927a2.25 2.25 0 01-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 00-.659-1.591L3.659 7.409A2.25 2.25 0 013 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0112 3z\" />\n    </svg>\n  ),\n};\n\n// Types\ninterface IconProps {\n  className?: string;\n  size?: number;\n  strokeWidth?: number;\n}\n\n// Helper to generate common props\nfunction iconProps({ className = '', size = 24, strokeWidth = 1.5 }: IconProps) {\n  return {\n    className,\n    width: size,\n    height: size,\n    fill: 'none',\n    stroke: 'currentColor',\n    strokeWidth,\n  };\n}\n\n// Icon component wrapper\ninterface IconComponentProps extends IconProps {\n  name: keyof typeof Icons;\n}\n\nexport function Icon({ name, ...props }: IconComponentProps) {\n  const IconComponent = Icons[name];\n  return IconComponent ? IconComponent(props) : null;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1217, "column": 0}, "map": {"version":3,"sources":["file:///Users/hammy/prompt-generator-spec/code-examples/app/components/Tooltip.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef, useEffect, ReactNode } from 'react';\n\ninterface TooltipProps {\n  content: ReactNode;\n  children: ReactNode;\n  position?: 'top' | 'bottom' | 'left' | 'right';\n  delay?: number;\n}\n\nexport function Tooltip({ content, children, position = 'top', delay = 300 }: TooltipProps) {\n  const [isVisible, setIsVisible] = useState(false);\n  const [coords, setCoords] = useState({ x: 0, y: 0 });\n  const triggerRef = useRef<HTMLDivElement>(null);\n  const tooltipRef = useRef<HTMLDivElement>(null);\n  const timeoutRef = useRef<NodeJS.Timeout>();\n\n  const showTooltip = () => {\n    timeoutRef.current = setTimeout(() => {\n      setIsVisible(true);\n    }, delay);\n  };\n\n  const hideTooltip = () => {\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n    setIsVisible(false);\n  };\n\n  useEffect(() => {\n    if (isVisible && triggerRef.current && tooltipRef.current) {\n      const triggerRect = triggerRef.current.getBoundingClientRect();\n      const tooltipRect = tooltipRef.current.getBoundingClientRect();\n\n      let x = 0;\n      let y = 0;\n\n      switch (position) {\n        case 'top':\n          x = triggerRect.left + triggerRect.width / 2 - tooltipRect.width / 2;\n          y = triggerRect.top - tooltipRect.height - 8;\n          break;\n        case 'bottom':\n          x = triggerRect.left + triggerRect.width / 2 - tooltipRect.width / 2;\n          y = triggerRect.bottom + 8;\n          break;\n        case 'left':\n          x = triggerRect.left - tooltipRect.width - 8;\n          y = triggerRect.top + triggerRect.height / 2 - tooltipRect.height / 2;\n          break;\n        case 'right':\n          x = triggerRect.right + 8;\n          y = triggerRect.top + triggerRect.height / 2 - tooltipRect.height / 2;\n          break;\n      }\n\n      // Keep tooltip within viewport\n      x = Math.max(8, Math.min(x, window.innerWidth - tooltipRect.width - 8));\n      y = Math.max(8, Math.min(y, window.innerHeight - tooltipRect.height - 8));\n\n      setCoords({ x, y });\n    }\n  }, [isVisible, position]);\n\n  return (\n    <>\n      <div\n        ref={triggerRef}\n        onMouseEnter={showTooltip}\n        onMouseLeave={hideTooltip}\n        onFocus={showTooltip}\n        onBlur={hideTooltip}\n        className=\"inline-flex\"\n      >\n        {children}\n      </div>\n      {isVisible && (\n        <div\n          ref={tooltipRef}\n          className=\"fixed z-50 px-3 py-2 text-sm bg-gray-800 border border-gray-700 rounded-lg shadow-xl animate-fade-in max-w-xs\"\n          style={{ left: coords.x, top: coords.y }}\n        >\n          {content}\n        </div>\n      )}\n    </>\n  );\n}\n\n// Help icon with tooltip\ninterface HelpTooltipProps {\n  content: ReactNode;\n}\n\nexport function HelpTooltip({ content }: HelpTooltipProps) {\n  return (\n    <Tooltip content={content} position=\"top\">\n      <button className=\"p-1 text-gray-500 hover:text-teal-400 transition-colors rounded-full hover:bg-teal-500/10\">\n        <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z\" />\n        </svg>\n      </button>\n    </Tooltip>\n  );\n}\n"],"names":[],"mappings":";;;;;;;AAEA;;;AAFA;;AAWO,SAAS,QAAQ,EAAE,OAAO,EAAE,QAAQ,EAAE,WAAW,KAAK,EAAE,QAAQ,GAAG,EAAgB;;IACxF,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAC;QAAE,GAAG;QAAG,GAAG;IAAE;IAClD,MAAM,aAAa,IAAA,uKAAM,EAAiB;IAC1C,MAAM,aAAa,IAAA,uKAAM,EAAiB;IAC1C,MAAM,aAAa,IAAA,uKAAM;IAEzB,MAAM,cAAc;QAClB,WAAW,OAAO,GAAG,WAAW;YAC9B,aAAa;QACf,GAAG;IACL;IAEA,MAAM,cAAc;QAClB,IAAI,WAAW,OAAO,EAAE;YACtB,aAAa,WAAW,OAAO;QACjC;QACA,aAAa;IACf;IAEA,IAAA,0KAAS;6BAAC;YACR,IAAI,aAAa,WAAW,OAAO,IAAI,WAAW,OAAO,EAAE;gBACzD,MAAM,cAAc,WAAW,OAAO,CAAC,qBAAqB;gBAC5D,MAAM,cAAc,WAAW,OAAO,CAAC,qBAAqB;gBAE5D,IAAI,IAAI;gBACR,IAAI,IAAI;gBAER,OAAQ;oBACN,KAAK;wBACH,IAAI,YAAY,IAAI,GAAG,YAAY,KAAK,GAAG,IAAI,YAAY,KAAK,GAAG;wBACnE,IAAI,YAAY,GAAG,GAAG,YAAY,MAAM,GAAG;wBAC3C;oBACF,KAAK;wBACH,IAAI,YAAY,IAAI,GAAG,YAAY,KAAK,GAAG,IAAI,YAAY,KAAK,GAAG;wBACnE,IAAI,YAAY,MAAM,GAAG;wBACzB;oBACF,KAAK;wBACH,IAAI,YAAY,IAAI,GAAG,YAAY,KAAK,GAAG;wBAC3C,IAAI,YAAY,GAAG,GAAG,YAAY,MAAM,GAAG,IAAI,YAAY,MAAM,GAAG;wBACpE;oBACF,KAAK;wBACH,IAAI,YAAY,KAAK,GAAG;wBACxB,IAAI,YAAY,GAAG,GAAG,YAAY,MAAM,GAAG,IAAI,YAAY,MAAM,GAAG;wBACpE;gBACJ;gBAEA,+BAA+B;gBAC/B,IAAI,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,GAAG,OAAO,UAAU,GAAG,YAAY,KAAK,GAAG;gBACpE,IAAI,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,GAAG,OAAO,WAAW,GAAG,YAAY,MAAM,GAAG;gBAEtE,UAAU;oBAAE;oBAAG;gBAAE;YACnB;QACF;4BAAG;QAAC;QAAW;KAAS;IAExB,qBACE;;0BACE,6LAAC;gBACC,KAAK;gBACL,cAAc;gBACd,cAAc;gBACd,SAAS;gBACT,QAAQ;gBACR,WAAU;0BAET;;;;;;YAEF,2BACC,6LAAC;gBACC,KAAK;gBACL,WAAU;gBACV,OAAO;oBAAE,MAAM,OAAO,CAAC;oBAAE,KAAK,OAAO,CAAC;gBAAC;0BAEtC;;;;;;;;AAKX;GA9EgB;KAAA;AAqFT,SAAS,YAAY,EAAE,OAAO,EAAoB;IACvD,qBACE,6LAAC;QAAQ,SAAS;QAAS,UAAS;kBAClC,cAAA,6LAAC;YAAO,WAAU;sBAChB,cAAA,6LAAC;gBAAI,WAAU;gBAAU,MAAK;gBAAO,SAAQ;gBAAY,QAAO;gBAAe,aAAa;0BAC1F,cAAA,6LAAC;oBAAK,eAAc;oBAAQ,gBAAe;oBAAQ,GAAE;;;;;;;;;;;;;;;;;;;;;AAK/D;MAVgB"}},
    {"offset": {"line": 1369, "column": 0}, "map": {"version":3,"sources":["file:///Users/hammy/prompt-generator-spec/code-examples/app/components/PromptTemplates.tsx"],"sourcesContent":["'use client';\n\n// Finance-focused prompt templates for business professionals\n// 18 templates across 5 categories\n\nexport interface PromptTemplate {\n  id: string;\n  name: string;\n  description: string;\n  category: string;\n  categorySlug: string;\n  icon: string;\n  prompt: string;\n  variables: { name: string; default: string; description: string; type?: 'text' | 'number' | 'currency' | 'percentage' | 'date' | 'select' | 'textarea'; options?: string[] }[];\n  tags: string[];\n  difficulty: 'beginner' | 'intermediate' | 'advanced';\n  estimatedTime: string;\n  outputFormats: ('excel' | 'powerpoint' | 'pdf' | 'memo')[];\n  useCases: string[];\n  requiredInputs?: string[];\n}\n\nexport const PROMPT_TEMPLATES: PromptTemplate[] = [\n  // ============================================\n  // FINANCIAL ANALYSIS (4 templates)\n  // ============================================\n  {\n    id: 'dcf-valuation',\n    name: 'DCF Valuation Model',\n    description: 'Build a discounted cash flow analysis with key assumptions and sensitivity',\n    category: 'Financial Analysis',\n    categorySlug: 'financial-analysis',\n    icon: 'ðŸ“Š',\n    prompt: `Create a comprehensive DCF (Discounted Cash Flow) valuation analysis for {{company_name}}.\n\n**Company Overview:**\n- Industry: {{industry}}\n- Current Revenue: \\${{current_revenue}}M\n- Current EBITDA Margin: {{ebitda_margin}}%\n- Historical Growth Rate: {{historical_growth}}%\n\n**Key Assumptions:**\n- Projection Period: {{projection_years}} years\n- Terminal Growth Rate: {{terminal_growth}}%\n- WACC Range: {{wacc_low}}% - {{wacc_high}}%\n- Tax Rate: {{tax_rate}}%\n\n**Please provide:**\n1. **Revenue Projections** - Year-by-year forecast with growth assumptions\n2. **EBITDA Bridge** - From current to projected with margin improvement thesis\n3. **Free Cash Flow Build** - CapEx, working capital, and D&A assumptions\n4. **Terminal Value Calculation** - Using both perpetuity growth and exit multiple methods\n5. **Enterprise Value Range** - Based on WACC sensitivity\n6. **Equity Value Bridge** - Net debt adjustments\n7. **Implied Multiples** - EV/Revenue, EV/EBITDA at various price points\n8. **Key Sensitivities** - WACC vs. terminal growth matrix\n\nFormat the output as Excel-ready tables where applicable.`,\n    variables: [\n      { name: 'company_name', default: '', description: 'Target company name', type: 'text' },\n      { name: 'industry', default: 'Technology', description: 'Industry sector', type: 'select', options: ['Technology', 'Healthcare', 'Financial Services', 'Consumer', 'Industrial', 'Energy', 'Real Estate', 'Telecom'] },\n      { name: 'current_revenue', default: '100', description: 'Current annual revenue in millions', type: 'currency' },\n      { name: 'ebitda_margin', default: '20', description: 'Current EBITDA margin', type: 'percentage' },\n      { name: 'historical_growth', default: '15', description: 'Historical revenue growth rate', type: 'percentage' },\n      { name: 'projection_years', default: '5', description: 'Number of projection years', type: 'number' },\n      { name: 'terminal_growth', default: '2.5', description: 'Terminal/perpetuity growth rate', type: 'percentage' },\n      { name: 'wacc_low', default: '8', description: 'Low end of WACC range', type: 'percentage' },\n      { name: 'wacc_high', default: '12', description: 'High end of WACC range', type: 'percentage' },\n      { name: 'tax_rate', default: '25', description: 'Effective tax rate', type: 'percentage' },\n    ],\n    tags: ['valuation', 'dcf', 'modeling', 'investment-banking'],\n    difficulty: 'advanced',\n    estimatedTime: '30 min',\n    outputFormats: ['excel', 'memo'],\n    useCases: ['M&A due diligence', 'Investment committee memo', 'Fairness opinion support'],\n    requiredInputs: ['company_name', 'current_revenue'],\n  },\n  {\n    id: 'comparable-companies',\n    name: 'Comparable Companies Analysis',\n    description: 'Trading comps analysis with peer selection and multiple calculations',\n    category: 'Financial Analysis',\n    categorySlug: 'financial-analysis',\n    icon: 'ðŸ“ˆ',\n    prompt: `Develop a comprehensive comparable companies analysis for {{company_name}} in the {{industry}} sector.\n\n**Target Company Metrics:**\n- LTM Revenue: \\${{ltm_revenue}}M\n- LTM EBITDA: \\${{ltm_ebitda}}M\n- Revenue Growth (YoY): {{revenue_growth}}%\n- EBITDA Margin: {{ebitda_margin}}%\n\n**Analysis Requirements:**\n\n1. **Peer Universe Selection**\n   - Identify 8-12 comparable public companies\n   - Selection criteria: business model, size, geography, growth profile\n   - Justify inclusions and notable exclusions\n\n2. **Trading Multiples Calculation**\n   - EV/Revenue (LTM and NTM)\n   - EV/EBITDA (LTM and NTM)\n   - P/E ratio (if profitable)\n   - EV/EBIT for margin-adjusted comparison\n\n3. **Statistical Analysis**\n   - Mean, median, 25th/75th percentile for each multiple\n   - High/low outlier identification\n   - Size and growth-adjusted ranges\n\n4. **Valuation Output**\n   - Implied equity value range using selected multiples\n   - Football field visualization data\n   - Recommended valuation range with justification\n\n5. **Key Observations**\n   - Premium/discount drivers vs. peers\n   - Market sentiment and recent trading dynamics\n   - Relative valuation positioning\n\nFormat all data as sortable tables ready for Excel export.`,\n    variables: [\n      { name: 'company_name', default: '', description: 'Target company name', type: 'text' },\n      { name: 'industry', default: 'Software', description: 'Industry for peer selection', type: 'select', options: ['Software', 'Internet', 'Fintech', 'Healthcare IT', 'E-commerce', 'Cybersecurity', 'Cloud Infrastructure', 'Enterprise Software'] },\n      { name: 'ltm_revenue', default: '50', description: 'Last twelve months revenue ($M)', type: 'currency' },\n      { name: 'ltm_ebitda', default: '10', description: 'Last twelve months EBITDA ($M)', type: 'currency' },\n      { name: 'revenue_growth', default: '25', description: 'Year-over-year revenue growth', type: 'percentage' },\n      { name: 'ebitda_margin', default: '20', description: 'EBITDA margin', type: 'percentage' },\n    ],\n    tags: ['comps', 'valuation', 'trading-multiples', 'equity-research'],\n    difficulty: 'intermediate',\n    estimatedTime: '20 min',\n    outputFormats: ['excel', 'powerpoint'],\n    useCases: ['Equity research', 'Valuation benchmarking', 'IPO pricing'],\n  },\n  {\n    id: 'earnings-analysis',\n    name: 'Quarterly Earnings Analysis',\n    description: 'Deep dive on earnings results with beat/miss analysis and guidance review',\n    category: 'Financial Analysis',\n    categorySlug: 'financial-analysis',\n    icon: 'ðŸ’¹',\n    prompt: `Analyze the quarterly earnings results for {{company_name}} ({{ticker}}) for {{quarter}}.\n\n**Reported Results:**\n- Revenue: \\${{reported_revenue}}M (Consensus: \\${{consensus_revenue}}M)\n- EPS: \\${{reported_eps}} (Consensus: \\${{consensus_eps}})\n- Gross Margin: {{gross_margin}}%\n- Operating Margin: {{operating_margin}}%\n\n**Provide comprehensive analysis:**\n\n1. **Beat/Miss Summary**\n   - Revenue surprise (% and $)\n   - EPS surprise (% and $)\n   - Quality of beat (one-time items, accounting changes)\n\n2. **Segment Performance**\n   - Revenue by business segment\n   - Geographic breakdown\n   - Key product/service line trends\n\n3. **Margin Analysis**\n   - Gross margin trend vs. prior quarter and YoY\n   - Operating leverage analysis\n   - Cost structure changes (COGS, SG&A, R&D)\n\n4. **Guidance Assessment**\n   - Full-year guidance changes\n   - Implied Q+1 expectations\n   - Management credibility on prior guidance\n\n5. **Management Commentary Highlights**\n   - Key themes from earnings call\n   - Forward outlook and tone\n   - Risk factors mentioned\n\n6. **Investment Implications**\n   - Near-term trading thesis\n   - Impact on full-year estimates\n   - Key metrics to monitor\n\nFormat key metrics as bullet points suitable for client communication.`,\n    variables: [\n      { name: 'company_name', default: '', description: 'Company name', type: 'text' },\n      { name: 'ticker', default: '', description: 'Stock ticker symbol', type: 'text' },\n      { name: 'quarter', default: 'Q4 2024', description: 'Fiscal quarter', type: 'text' },\n      { name: 'reported_revenue', default: '', description: 'Reported revenue ($M)', type: 'currency' },\n      { name: 'consensus_revenue', default: '', description: 'Consensus revenue estimate ($M)', type: 'currency' },\n      { name: 'reported_eps', default: '', description: 'Reported earnings per share', type: 'number' },\n      { name: 'consensus_eps', default: '', description: 'Consensus EPS estimate', type: 'number' },\n      { name: 'gross_margin', default: '', description: 'Gross margin %', type: 'percentage' },\n      { name: 'operating_margin', default: '', description: 'Operating margin %', type: 'percentage' },\n    ],\n    tags: ['earnings', 'equity-research', 'trading', 'analysis'],\n    difficulty: 'intermediate',\n    estimatedTime: '15 min',\n    outputFormats: ['memo', 'pdf'],\n    useCases: ['Morning note', 'Client alert', 'Portfolio review'],\n  },\n  {\n    id: 'sensitivity-analysis',\n    name: 'Sensitivity Analysis Builder',\n    description: 'Create multi-variable sensitivity tables for financial models',\n    category: 'Financial Analysis',\n    categorySlug: 'financial-analysis',\n    icon: 'ðŸŽ¯',\n    prompt: `Build a comprehensive sensitivity analysis for {{analysis_type}} valuation of {{company_name}}.\n\n**Base Case Assumptions:**\n- Base Value: \\${{base_value}}M\n- Primary Variable: {{primary_variable}} (Base: {{primary_base}}%)\n- Secondary Variable: {{secondary_variable}} (Base: {{secondary_base}}%)\n\n**Create the following sensitivity outputs:**\n\n1. **Two-Variable Sensitivity Matrix**\n   - {{primary_variable}} range: {{primary_low}}% to {{primary_high}}% ({{primary_steps}} steps)\n   - {{secondary_variable}} range: {{secondary_low}}% to {{secondary_high}}% ({{secondary_steps}} steps)\n   - Show implied value at each intersection\n\n2. **One-Variable Sensitivity Tables**\n   - Individual impact of each variable\n   - Breakeven analysis points\n   - Value creation/destruction ranges\n\n3. **Scenario Analysis**\n   - Bull case: Optimistic assumptions\n   - Base case: Current assumptions\n   - Bear case: Pessimistic assumptions\n   - Include probability-weighted expected value\n\n4. **Key Insights**\n   - Most sensitive assumptions\n   - Value inflection points\n   - Risk-adjusted recommendations\n\n5. **Visual Data for Charts**\n   - Tornado chart data (sensitivity ranking)\n   - Spider/radar chart inputs\n   - Waterfall bridge data\n\nFormat all tables for direct Excel paste with conditional formatting guidance.`,\n    variables: [\n      { name: 'company_name', default: '', description: 'Company or project name', type: 'text' },\n      { name: 'analysis_type', default: 'DCF', description: 'Type of valuation', type: 'select', options: ['DCF', 'LBO', 'Comps', 'Sum-of-Parts', 'Real Option'] },\n      { name: 'base_value', default: '500', description: 'Base case value ($M)', type: 'currency' },\n      { name: 'primary_variable', default: 'WACC', description: 'Primary sensitivity variable', type: 'text' },\n      { name: 'primary_base', default: '10', description: 'Primary variable base case', type: 'percentage' },\n      { name: 'primary_low', default: '8', description: 'Primary variable low', type: 'percentage' },\n      { name: 'primary_high', default: '12', description: 'Primary variable high', type: 'percentage' },\n      { name: 'primary_steps', default: '5', description: 'Number of steps', type: 'number' },\n      { name: 'secondary_variable', default: 'Terminal Growth', description: 'Secondary sensitivity variable', type: 'text' },\n      { name: 'secondary_base', default: '2.5', description: 'Secondary variable base case', type: 'percentage' },\n      { name: 'secondary_low', default: '1.5', description: 'Secondary variable low', type: 'percentage' },\n      { name: 'secondary_high', default: '3.5', description: 'Secondary variable high', type: 'percentage' },\n      { name: 'secondary_steps', default: '5', description: 'Number of steps', type: 'number' },\n    ],\n    tags: ['sensitivity', 'modeling', 'scenario-analysis', 'risk'],\n    difficulty: 'intermediate',\n    estimatedTime: '15 min',\n    outputFormats: ['excel', 'powerpoint'],\n    useCases: ['Board presentation', 'Investment committee', 'Risk assessment'],\n  },\n\n  // ============================================\n  // INVESTMENT RESEARCH (4 templates)\n  // ============================================\n  {\n    id: 'due-diligence',\n    name: 'Due Diligence Framework',\n    description: 'Comprehensive DD checklist and analysis framework for M&A or investments',\n    category: 'Investment Research',\n    categorySlug: 'investment-research',\n    icon: 'ðŸ”',\n    prompt: `Create a comprehensive due diligence framework for {{company_name}} in the context of a {{transaction_type}}.\n\n**Deal Context:**\n- Transaction Type: {{transaction_type}}\n- Target Sector: {{sector}}\n- Deal Size: \\${{deal_size}}M\n- Investment Thesis: {{investment_thesis}}\n\n**Develop DD framework covering:**\n\n1. **Business Due Diligence**\n   - Market position and competitive dynamics\n   - Customer concentration and churn analysis\n   - Revenue quality (recurring vs. one-time)\n   - Go-to-market efficiency\n   - Technology/IP assessment\n   - Management team evaluation\n\n2. **Financial Due Diligence**\n   - Quality of earnings analysis\n   - Working capital normalization\n   - CapEx requirements (maintenance vs. growth)\n   - Off-balance sheet items\n   - Tax structure review\n   - Accounting policy assessment\n\n3. **Commercial Due Diligence**\n   - Market size validation (TAM/SAM/SOM)\n   - Competitive positioning\n   - Customer reference calls framework\n   - Pricing power analysis\n   - Channel assessment\n\n4. **Operational Due Diligence**\n   - Operational efficiency metrics\n   - Scalability assessment\n   - Integration complexity\n   - Synergy identification\n   - Key person dependencies\n\n5. **Legal & Compliance**\n   - Material contracts review\n   - Litigation and contingencies\n   - Regulatory compliance\n   - IP ownership verification\n   - ESG considerations\n\n6. **Red Flags Checklist**\n   - Common deal-breakers by category\n   - Risk mitigation strategies\n\nProvide prioritized action items with responsible parties and timelines.`,\n    variables: [\n      { name: 'company_name', default: '', description: 'Target company name', type: 'text' },\n      { name: 'transaction_type', default: 'Acquisition', description: 'Type of transaction', type: 'select', options: ['Acquisition', 'Minority Investment', 'Growth Equity', 'LBO', 'Merger', 'Carve-out'] },\n      { name: 'sector', default: 'Technology', description: 'Target sector', type: 'text' },\n      { name: 'deal_size', default: '100', description: 'Transaction size ($M)', type: 'currency' },\n      { name: 'investment_thesis', default: '', description: 'Brief investment thesis', type: 'textarea' },\n    ],\n    tags: ['due-diligence', 'm&a', 'investment', 'private-equity'],\n    difficulty: 'advanced',\n    estimatedTime: '30 min',\n    outputFormats: ['memo', 'excel'],\n    useCases: ['M&A process', 'PE investment', 'Strategic acquisition'],\n  },\n  {\n    id: 'tam-sam-som',\n    name: 'TAM/SAM/SOM Analysis',\n    description: 'Market sizing framework with top-down and bottom-up approaches',\n    category: 'Investment Research',\n    categorySlug: 'investment-research',\n    icon: 'ðŸŒ',\n    prompt: `Develop a comprehensive market sizing analysis for {{company_name}} operating in the {{market_segment}} market.\n\n**Company Context:**\n- Current Revenue: \\${{current_revenue}}M\n- Primary Geography: {{geography}}\n- Business Model: {{business_model}}\n- Key Products/Services: {{products}}\n\n**Provide market sizing using both methodologies:**\n\n1. **Top-Down Analysis**\n   - **TAM (Total Addressable Market)**\n     - Global market definition\n     - Industry research sources and data\n     - Growth drivers and trends\n     - 5-year CAGR projection\n\n   - **SAM (Serviceable Addressable Market)**\n     - Geographic filtering\n     - Segment-specific sizing\n     - Channel accessibility\n\n   - **SOM (Serviceable Obtainable Market)**\n     - Realistic market share targets\n     - Competitive intensity factor\n     - Go-to-market capacity constraints\n\n2. **Bottom-Up Analysis**\n   - Customer universe quantification\n   - Average contract value assumptions\n   - Penetration rate modeling\n   - Customer acquisition capacity\n\n3. **Market Dynamics**\n   - Key growth drivers\n   - Market headwinds\n   - Regulatory impacts\n   - Technology disruption factors\n\n4. **Competitive Landscape**\n   - Major players and market share\n   - Emerging competitors\n   - Substitution threats\n\n5. **Opportunity Assessment**\n   - Revenue potential by segment\n   - Prioritized market opportunities\n   - Entry barriers and moats\n\nInclude data tables with sources and assumptions clearly documented.`,\n    variables: [\n      { name: 'company_name', default: '', description: 'Company name', type: 'text' },\n      { name: 'market_segment', default: '', description: 'Primary market segment', type: 'text' },\n      { name: 'current_revenue', default: '10', description: 'Current annual revenue ($M)', type: 'currency' },\n      { name: 'geography', default: 'North America', description: 'Primary geography', type: 'select', options: ['North America', 'Europe', 'APAC', 'Global', 'Latin America', 'Middle East'] },\n      { name: 'business_model', default: 'SaaS', description: 'Business model type', type: 'select', options: ['SaaS', 'Marketplace', 'E-commerce', 'Hardware', 'Services', 'Hybrid'] },\n      { name: 'products', default: '', description: 'Key products or services', type: 'textarea' },\n    ],\n    tags: ['market-sizing', 'tam', 'research', 'strategy'],\n    difficulty: 'intermediate',\n    estimatedTime: '20 min',\n    outputFormats: ['powerpoint', 'memo'],\n    useCases: ['Investor pitch', 'Strategic planning', 'New market entry'],\n  },\n  {\n    id: 'competitive-intelligence',\n    name: 'Competitive Intelligence Report',\n    description: 'Deep competitive analysis with positioning and strategic implications',\n    category: 'Investment Research',\n    categorySlug: 'investment-research',\n    icon: 'ðŸŽ­',\n    prompt: `Create a comprehensive competitive intelligence report for {{company_name}} in the {{industry}} space.\n\n**Analysis Scope:**\n- Primary Competitors: {{competitors}}\n- Geographic Focus: {{geography}}\n- Time Horizon: {{time_horizon}}\n\n**Competitive Analysis Framework:**\n\n1. **Competitor Profiles** (for each major competitor)\n   - Company overview and strategy\n   - Product/service portfolio\n   - Pricing and positioning\n   - Recent strategic moves\n   - Strengths and weaknesses\n   - Estimated financials (revenue, growth, margins)\n\n2. **Comparative Analysis**\n   - Feature/capability matrix\n   - Pricing comparison table\n   - Market share estimates\n   - Customer segment overlap\n   - Geographic presence\n\n3. **Strategic Positioning Map**\n   - 2x2 positioning framework\n   - Differentiation factors\n   - White space opportunities\n\n4. **Competitive Dynamics**\n   - Recent M&A activity\n   - Partnership ecosystems\n   - Technology investments\n   - Talent movements\n   - Funding and financial position\n\n5. **Threat Assessment**\n   - Direct competitive threats\n   - Emerging/disruptive threats\n   - Substitution risks\n   - New entrant barriers\n\n6. **Strategic Implications**\n   - Competitive response recommendations\n   - Differentiation opportunities\n   - Defensive positioning needs\n   - Monitoring triggers and KPIs\n\nFormat as executive summary with detailed appendix data.`,\n    variables: [\n      { name: 'company_name', default: '', description: 'Your company name', type: 'text' },\n      { name: 'industry', default: '', description: 'Industry or market', type: 'text' },\n      { name: 'competitors', default: '', description: 'Key competitors (comma-separated)', type: 'textarea' },\n      { name: 'geography', default: 'Global', description: 'Geographic scope', type: 'text' },\n      { name: 'time_horizon', default: '3 years', description: 'Analysis time horizon', type: 'select', options: ['1 year', '3 years', '5 years'] },\n    ],\n    tags: ['competitive-analysis', 'strategy', 'market-research', 'intelligence'],\n    difficulty: 'intermediate',\n    estimatedTime: '25 min',\n    outputFormats: ['powerpoint', 'memo'],\n    useCases: ['Strategic planning', 'Board presentation', 'Investment thesis'],\n  },\n  {\n    id: 'sector-deep-dive',\n    name: 'Sector Deep-Dive',\n    description: 'Comprehensive industry analysis with trends, drivers, and outlook',\n    category: 'Investment Research',\n    categorySlug: 'investment-research',\n    icon: 'ðŸ­',\n    prompt: `Develop a comprehensive sector deep-dive analysis for the {{sector}} industry.\n\n**Analysis Parameters:**\n- Sector: {{sector}}\n- Sub-segment Focus: {{subsegment}}\n- Geographic Scope: {{geography}}\n- Investment Horizon: {{investment_horizon}}\n\n**Sector Analysis Framework:**\n\n1. **Industry Overview**\n   - Market size and growth trajectory\n   - Industry structure and value chain\n   - Key players and market shares\n   - Business model evolution\n\n2. **Growth Drivers**\n   - Macro tailwinds\n   - Technology enablers\n   - Regulatory catalysts\n   - Consumer/enterprise demand shifts\n\n3. **Industry Challenges**\n   - Structural headwinds\n   - Margin pressure sources\n   - Regulatory risks\n   - Disruption threats\n\n4. **Competitive Landscape**\n   - Industry concentration trends\n   - Consolidation activity\n   - New entrant dynamics\n   - International competition\n\n5. **Investment Themes**\n   - High-conviction themes\n   - Emerging opportunities\n   - Risk factors to monitor\n   - Catalyst timeline\n\n6. **Valuation Context**\n   - Historical trading ranges\n   - Current sector multiples\n   - Relative value assessment\n   - M&A activity and premiums\n\n7. **Top Picks Framework**\n   - Selection criteria\n   - Sector positioning considerations\n   - Risk/reward profiles\n\nProvide specific data points and sources where possible.`,\n    variables: [\n      { name: 'sector', default: '', description: 'Industry sector', type: 'select', options: ['Software', 'Fintech', 'Healthcare', 'Consumer', 'Industrials', 'Energy', 'Real Estate', 'Financial Services', 'Media & Entertainment', 'Telecommunications'] },\n      { name: 'subsegment', default: '', description: 'Specific sub-segment focus', type: 'text' },\n      { name: 'geography', default: 'Global', description: 'Geographic focus', type: 'text' },\n      { name: 'investment_horizon', default: '12-24 months', description: 'Investment time horizon', type: 'select', options: ['6 months', '12-24 months', '3-5 years', '10+ years'] },\n    ],\n    tags: ['sector-analysis', 'industry-research', 'thematic', 'investing'],\n    difficulty: 'advanced',\n    estimatedTime: '30 min',\n    outputFormats: ['powerpoint', 'pdf', 'memo'],\n    useCases: ['Sector initiation', 'Thematic research', 'Portfolio allocation'],\n  },\n\n  // ============================================\n  // STRATEGY & PLANNING (4 templates)\n  // ============================================\n  {\n    id: 'swot-analysis',\n    name: 'SWOT Analysis',\n    description: 'Strategic SWOT framework with actionable insights',\n    category: 'Strategy & Planning',\n    categorySlug: 'strategy-planning',\n    icon: 'âš¡',\n    prompt: `Create a comprehensive SWOT analysis for {{company_name}} to inform {{strategic_context}}.\n\n**Company Context:**\n- Industry: {{industry}}\n- Company Stage: {{company_stage}}\n- Current Strategy: {{current_strategy}}\n\n**SWOT Analysis:**\n\n1. **Strengths** (Internal Positive)\n   - Core competencies\n   - Competitive advantages\n   - Resource strengths\n   - Brand/reputation assets\n   - Financial position\n   - Talent/team capabilities\n\n   *For each: Rate importance (High/Medium/Low) and sustainability*\n\n2. **Weaknesses** (Internal Negative)\n   - Capability gaps\n   - Resource constraints\n   - Operational inefficiencies\n   - Competitive disadvantages\n   - Financial limitations\n\n   *For each: Rate severity and addressability*\n\n3. **Opportunities** (External Positive)\n   - Market trends\n   - Technology enablers\n   - Regulatory tailwinds\n   - Competitive openings\n   - Partnership potential\n   - M&A opportunities\n\n   *For each: Rate attractiveness and fit*\n\n4. **Threats** (External Negative)\n   - Competitive threats\n   - Market shifts\n   - Technology disruption\n   - Regulatory risks\n   - Economic factors\n   - Talent competition\n\n   *For each: Rate probability and impact*\n\n5. **Strategic Implications Matrix**\n   - SO Strategies (Strengths + Opportunities)\n   - WO Strategies (Weaknesses + Opportunities)\n   - ST Strategies (Strengths + Threats)\n   - WT Strategies (Weaknesses + Threats)\n\n6. **Priority Actions**\n   - Immediate priorities (0-6 months)\n   - Medium-term initiatives (6-18 months)\n   - Long-term strategic moves (18+ months)\n\nFormat for board/leadership presentation with executive summary.`,\n    variables: [\n      { name: 'company_name', default: '', description: 'Company name', type: 'text' },\n      { name: 'industry', default: '', description: 'Industry/sector', type: 'text' },\n      { name: 'company_stage', default: 'Growth', description: 'Company stage', type: 'select', options: ['Startup', 'Growth', 'Mature', 'Turnaround'] },\n      { name: 'strategic_context', default: 'annual strategic planning', description: 'Purpose of analysis', type: 'text' },\n      { name: 'current_strategy', default: '', description: 'Brief current strategy description', type: 'textarea' },\n    ],\n    tags: ['swot', 'strategy', 'planning', 'analysis'],\n    difficulty: 'beginner',\n    estimatedTime: '15 min',\n    outputFormats: ['powerpoint', 'memo'],\n    useCases: ['Strategic planning', 'Board presentation', 'Investor materials'],\n  },\n  {\n    id: 'business-plan',\n    name: 'Business Plan Builder',\n    description: 'Structured business plan with financials and go-to-market strategy',\n    category: 'Strategy & Planning',\n    categorySlug: 'strategy-planning',\n    icon: 'ðŸ“‹',\n    prompt: `Create a comprehensive business plan outline for {{company_name}} focused on {{business_focus}}.\n\n**Business Overview:**\n- Company Name: {{company_name}}\n- Business Focus: {{business_focus}}\n- Target Market: {{target_market}}\n- Business Model: {{business_model}}\n- Funding Goal: \\${{funding_goal}}M\n\n**Business Plan Structure:**\n\n1. **Executive Summary**\n   - Mission and vision statement\n   - Value proposition\n   - Key differentiators\n   - Funding ask and use of proceeds\n   - Key metrics/traction\n\n2. **Problem & Solution**\n   - Market problem definition\n   - Current alternatives\n   - Our solution\n   - Why now?\n\n3. **Market Opportunity**\n   - TAM/SAM/SOM analysis\n   - Target customer profile\n   - Market trends and tailwinds\n\n4. **Product/Service**\n   - Product description\n   - Key features and benefits\n   - Technology/IP\n   - Product roadmap\n\n5. **Business Model**\n   - Revenue model\n   - Pricing strategy\n   - Unit economics\n   - Customer lifetime value\n\n6. **Go-to-Market Strategy**\n   - Sales strategy\n   - Marketing channels\n   - Partnerships\n   - Customer acquisition cost targets\n\n7. **Competitive Landscape**\n   - Direct competitors\n   - Indirect competitors\n   - Competitive advantages\n   - Barriers to entry\n\n8. **Team**\n   - Founders and leadership\n   - Key hires needed\n   - Advisory board\n   - Organizational structure\n\n9. **Financial Projections**\n   - 3-5 year revenue forecast\n   - Key assumptions\n   - Path to profitability\n   - Key metrics dashboard\n\n10. **Funding & Milestones**\n    - Current raise details\n    - Use of proceeds\n    - Key milestones\n    - Future funding needs\n\nProvide as structured outline with bullet points and placeholder data formats.`,\n    variables: [\n      { name: 'company_name', default: '', description: 'Company name', type: 'text' },\n      { name: 'business_focus', default: '', description: 'Primary business focus', type: 'text' },\n      { name: 'target_market', default: '', description: 'Target market/customer', type: 'text' },\n      { name: 'business_model', default: 'SaaS', description: 'Business model', type: 'select', options: ['SaaS', 'Marketplace', 'E-commerce', 'Hardware', 'Services', 'Freemium', 'Enterprise'] },\n      { name: 'funding_goal', default: '5', description: 'Funding target ($M)', type: 'currency' },\n    ],\n    tags: ['business-plan', 'strategy', 'fundraising', 'startup'],\n    difficulty: 'intermediate',\n    estimatedTime: '30 min',\n    outputFormats: ['memo', 'powerpoint', 'pdf'],\n    useCases: ['Fundraising', 'Board planning', 'Strategic alignment'],\n  },\n  {\n    id: 'okr-framework',\n    name: 'OKR Framework',\n    description: 'Objectives and Key Results planning with cascading goals',\n    category: 'Strategy & Planning',\n    categorySlug: 'strategy-planning',\n    icon: 'ðŸŽ¯',\n    prompt: `Develop a comprehensive OKR framework for {{company_name}} for {{time_period}}.\n\n**Company Context:**\n- Company/Team: {{company_name}}\n- Time Period: {{time_period}}\n- Primary Focus Area: {{focus_area}}\n- Top Priority: {{top_priority}}\n\n**OKR Framework:**\n\n1. **Company-Level OKRs** (3-5 Objectives)\n   For each objective:\n   - Objective statement (qualitative, inspiring)\n   - 3-5 Key Results (quantitative, measurable)\n   - Owner\n   - Confidence level (0-10)\n\n2. **Department/Team OKRs**\n   Cascaded from company objectives:\n   - **Sales/Revenue**\n   - **Product/Engineering**\n   - **Marketing**\n   - **Operations**\n   - **Finance**\n   - **People/HR**\n\n3. **Key Results Best Practices**\n   - Specific metrics with targets\n   - Baseline and target values\n   - Measurement methodology\n   - Stretch vs. committed designation\n\n4. **OKR Scoring Rubric**\n   - 0.0-0.3: We failed to make real progress\n   - 0.4-0.6: We made progress but fell short\n   - 0.7-0.9: We delivered (target zone)\n   - 1.0: We hit every target perfectly\n\n5. **Alignment Matrix**\n   - How team OKRs ladder to company OKRs\n   - Cross-functional dependencies\n   - Potential conflicts to resolve\n\n6. **Cadence & Review**\n   - Weekly check-in format\n   - Monthly review process\n   - Quarterly grading approach\n   - Annual planning integration\n\n7. **Success Metrics Dashboard**\n   - Real-time tracking indicators\n   - Leading vs. lagging metrics\n   - Alert thresholds\n\nProvide in a format ready for OKR tracking tools or spreadsheets.`,\n    variables: [\n      { name: 'company_name', default: '', description: 'Company or team name', type: 'text' },\n      { name: 'time_period', default: 'Q1 2025', description: 'Planning period', type: 'text' },\n      { name: 'focus_area', default: 'Growth', description: 'Primary focus area', type: 'select', options: ['Growth', 'Profitability', 'Product', 'Market Expansion', 'Operational Excellence', 'Customer Success'] },\n      { name: 'top_priority', default: '', description: 'Single most important priority', type: 'text' },\n    ],\n    tags: ['okr', 'planning', 'goals', 'strategy'],\n    difficulty: 'beginner',\n    estimatedTime: '20 min',\n    outputFormats: ['excel', 'memo'],\n    useCases: ['Quarterly planning', 'Annual planning', 'Team alignment'],\n  },\n  {\n    id: 'scenario-planning',\n    name: 'Scenario Planning',\n    description: 'Strategic scenario analysis with contingency planning',\n    category: 'Strategy & Planning',\n    categorySlug: 'strategy-planning',\n    icon: 'ðŸ”®',\n    prompt: `Develop a comprehensive scenario planning framework for {{company_name}} addressing {{key_uncertainty}}.\n\n**Planning Context:**\n- Company: {{company_name}}\n- Key Uncertainty: {{key_uncertainty}}\n- Planning Horizon: {{planning_horizon}}\n- Current Strategy: {{current_strategy}}\n\n**Scenario Planning Framework:**\n\n1. **Key Drivers Identification**\n   - Critical uncertainties (high impact, high uncertainty)\n   - Important trends (high impact, more predictable)\n   - Driving forces analysis\n\n2. **Scenario Matrix Development**\n   - Driver 1: {{driver_1}} (Axis A)\n   - Driver 2: {{driver_2}} (Axis B)\n\n   **Four Scenarios:**\n   - Scenario A: [High Driver 1 + High Driver 2]\n   - Scenario B: [High Driver 1 + Low Driver 2]\n   - Scenario C: [Low Driver 1 + High Driver 2]\n   - Scenario D: [Low Driver 1 + Low Driver 2]\n\n3. **Scenario Narratives**\n   For each scenario:\n   - Descriptive name/title\n   - Narrative description (2-3 paragraphs)\n   - Key characteristics\n   - Market implications\n   - Competitive dynamics\n   - Financial impact range\n   - Probability assessment\n\n4. **Strategic Implications**\n   For each scenario:\n   - Required capabilities\n   - Investment priorities\n   - Risk mitigation needs\n   - Opportunity capture strategies\n\n5. **Robust Strategies**\n   - Strategies that work across all scenarios\n   - Scenario-specific options\n   - Trigger points for strategy shifts\n\n6. **Early Warning Indicators**\n   - Leading indicators for each scenario\n   - Monitoring framework\n   - Decision trigger points\n\n7. **Action Plan**\n   - No-regret moves\n   - Options to preserve\n   - Big bets with timing\n\nPresent as strategic workshop output with visual framework.`,\n    variables: [\n      { name: 'company_name', default: '', description: 'Company name', type: 'text' },\n      { name: 'key_uncertainty', default: '', description: 'Primary uncertainty to address', type: 'text' },\n      { name: 'planning_horizon', default: '5 years', description: 'Planning time horizon', type: 'select', options: ['2 years', '5 years', '10 years'] },\n      { name: 'current_strategy', default: '', description: 'Brief current strategy', type: 'textarea' },\n      { name: 'driver_1', default: 'Market Growth', description: 'First key driver/uncertainty', type: 'text' },\n      { name: 'driver_2', default: 'Technology Disruption', description: 'Second key driver/uncertainty', type: 'text' },\n    ],\n    tags: ['scenario-planning', 'strategy', 'risk', 'planning'],\n    difficulty: 'advanced',\n    estimatedTime: '30 min',\n    outputFormats: ['powerpoint', 'memo'],\n    useCases: ['Strategic planning', 'Board workshop', 'Risk management'],\n  },\n\n  // ============================================\n  // M&A & DEAL WORK (3 templates)\n  // ============================================\n  {\n    id: 'investment-memo',\n    name: 'Investment Memo',\n    description: 'Comprehensive IC memo with deal rationale and risk assessment',\n    category: 'M&A & Deal Work',\n    categorySlug: 'ma-deal-work',\n    icon: 'ðŸ“',\n    prompt: `Create a comprehensive investment memo for {{company_name}} for Investment Committee review.\n\n**Deal Overview:**\n- Target: {{company_name}}\n- Transaction Type: {{transaction_type}}\n- Enterprise Value: \\${{enterprise_value}}M\n- Equity Investment: \\${{equity_investment}}M\n- Ownership: {{ownership}}%\n\n**Investment Memo Structure:**\n\n1. **Executive Summary**\n   - Deal recommendation\n   - Key investment highlights (3-5 bullets)\n   - Critical risks (2-3 bullets)\n   - Key terms overview\n   - Return expectations\n\n2. **Company Overview**\n   - Business description\n   - Products/services\n   - Customer base\n   - Geographic presence\n   - Historical financials summary\n\n3. **Investment Thesis**\n   - Why this company?\n   - Why now?\n   - Why us?\n   - Value creation levers\n   - Strategic fit\n\n4. **Market Opportunity**\n   - Industry overview\n   - Market size and growth\n   - Competitive landscape\n   - Target's market position\n\n5. **Financial Analysis**\n   - Historical performance\n   - Projection summary\n   - Key assumptions\n   - Valuation analysis\n   - Returns analysis (IRR/MOIC)\n\n6. **Value Creation Plan**\n   - Revenue growth initiatives\n   - Margin improvement opportunities\n   - Operational enhancements\n   - Potential add-on acquisitions\n   - Exit considerations\n\n7. **Risk Assessment**\n   - Key risks and mitigants\n   - Downside scenarios\n   - Deal-specific concerns\n   - Due diligence findings\n\n8. **Transaction Terms**\n   - Valuation and structure\n   - Key deal terms\n   - Governance rights\n   - Management arrangements\n\n9. **Recommendation**\n   - Clear recommendation\n   - Key conditions\n   - Next steps\n\nFormat as formal IC memo with appendix for detailed analysis.`,\n    variables: [\n      { name: 'company_name', default: '', description: 'Target company name', type: 'text' },\n      { name: 'transaction_type', default: 'Buyout', description: 'Transaction type', type: 'select', options: ['Buyout', 'Growth Equity', 'Minority Investment', 'Add-on Acquisition', 'Recapitalization'] },\n      { name: 'enterprise_value', default: '', description: 'Enterprise value ($M)', type: 'currency' },\n      { name: 'equity_investment', default: '', description: 'Equity check size ($M)', type: 'currency' },\n      { name: 'ownership', default: '', description: 'Target ownership percentage', type: 'percentage' },\n    ],\n    tags: ['investment-memo', 'private-equity', 'm&a', 'ic-memo'],\n    difficulty: 'advanced',\n    estimatedTime: '30 min',\n    outputFormats: ['memo', 'pdf'],\n    useCases: ['IC presentation', 'Deal approval', 'Partner review'],\n  },\n  {\n    id: 'term-sheet',\n    name: 'Term Sheet Builder',\n    description: 'Key deal terms framework for M&A or investment transactions',\n    category: 'M&A & Deal Work',\n    categorySlug: 'ma-deal-work',\n    icon: 'ðŸ“„',\n    prompt: `Create a comprehensive term sheet framework for {{transaction_type}} involving {{company_name}}.\n\n**Transaction Overview:**\n- Target Company: {{company_name}}\n- Transaction Type: {{transaction_type}}\n- Deal Size: \\${{deal_size}}M\n- Investor/Acquirer: {{investor}}\n\n**Term Sheet Framework:**\n\n1. **Transaction Structure**\n   - Form of consideration (cash, stock, mixed)\n   - Valuation basis (pre/post-money, enterprise value)\n   - Payment structure (upfront, earnout, rollover)\n   - Escrow/holdback provisions\n\n2. **Economics**\n   - Purchase price / investment amount\n   - Valuation multiples implied\n   - Cap table impact (if equity)\n   - Debt assumptions / financing structure\n\n3. **Governance & Control**\n   - Board composition\n   - Voting rights\n   - Protective provisions\n   - Information rights\n   - Consent rights for major decisions\n\n4. **Management & Employees**\n   - Management rollover expectations\n   - Employment agreements\n   - Option pool / equity incentives\n   - Non-compete/non-solicit terms\n   - Retention arrangements\n\n5. **Conditions & Process**\n   - Due diligence period and scope\n   - Exclusivity provisions\n   - Regulatory approvals required\n   - Third-party consents needed\n   - Key conditions to closing\n\n6. **Representations & Warranties**\n   - Standard reps scope\n   - Fundamental reps\n   - Knowledge qualifiers\n   - Sandbagging provisions\n\n7. **Indemnification**\n   - Survival periods\n   - Cap and basket thresholds\n   - Escrow/R&W insurance\n   - Special indemnities\n\n8. **Other Terms**\n   - Confidentiality\n   - Expense allocation\n   - Governing law\n   - Break-up fees (if applicable)\n\n9. **Indicative Timeline**\n   - Key milestones and dates\n   - Expected closing date\n\nPresent as bullet points suitable for term sheet document draft.`,\n    variables: [\n      { name: 'company_name', default: '', description: 'Target company name', type: 'text' },\n      { name: 'transaction_type', default: 'Acquisition', description: 'Type of transaction', type: 'select', options: ['Acquisition', 'Merger', 'Series A/B/C Investment', 'Growth Equity', 'Buyout', 'Recapitalization'] },\n      { name: 'deal_size', default: '', description: 'Transaction size ($M)', type: 'currency' },\n      { name: 'investor', default: '', description: 'Investor/Acquirer name', type: 'text' },\n    ],\n    tags: ['term-sheet', 'm&a', 'venture-capital', 'deal-terms'],\n    difficulty: 'advanced',\n    estimatedTime: '20 min',\n    outputFormats: ['memo', 'pdf'],\n    useCases: ['Deal negotiation', 'LOI preparation', 'Term sheet drafting'],\n  },\n  {\n    id: 'pitch-deck',\n    name: 'Pitch Deck Outline',\n    description: 'Investor-ready pitch deck structure with slide-by-slide guidance',\n    category: 'M&A & Deal Work',\n    categorySlug: 'ma-deal-work',\n    icon: 'ðŸŽ¬',\n    prompt: `Create a comprehensive pitch deck outline for {{company_name}} for {{pitch_context}}.\n\n**Company Overview:**\n- Company: {{company_name}}\n- Stage: {{company_stage}}\n- Pitch Context: {{pitch_context}}\n- Raise Amount: \\${{raise_amount}}M\n- Use of Funds: {{use_of_funds}}\n\n**Pitch Deck Structure (15-20 slides):**\n\n**Opening (Slides 1-3)**\n1. **Title Slide**\n   - Company name and logo\n   - Tagline/one-liner\n   - Presenter name and date\n\n2. **The Hook**\n   - Compelling statistic or insight\n   - Why this matters now\n   - Attention-grabbing visual\n\n3. **Problem Statement**\n   - Clear problem definition\n   - Who experiences this problem\n   - Current solutions and gaps\n   - Cost of the problem\n\n**Solution (Slides 4-7)**\n4. **Solution Overview**\n   - What we do (simple explanation)\n   - How it works\n   - Key differentiators\n   - Demo screenshot/visual\n\n5. **Product Deep-Dive**\n   - Key features\n   - Technology/IP\n   - Product roadmap\n   - Screenshots or demo flow\n\n6. **Business Model**\n   - How we make money\n   - Pricing structure\n   - Unit economics\n   - Revenue model clarity\n\n7. **Traction**\n   - Key metrics and growth\n   - Customer logos/testimonials\n   - Revenue/usage charts\n   - Milestone achievements\n\n**Market (Slides 8-10)**\n8. **Market Opportunity**\n   - TAM/SAM/SOM\n   - Market growth trends\n   - Why now? (timing thesis)\n\n9. **Competitive Landscape**\n   - Competitive positioning\n   - Key differentiators\n   - Sustainable advantages\n   - 2x2 positioning matrix\n\n10. **Go-to-Market**\n    - Customer acquisition strategy\n    - Sales motion\n    - Channel strategy\n    - Partnership opportunities\n\n**Team & Financials (Slides 11-14)**\n11. **Team**\n    - Founders and key hires\n    - Relevant experience\n    - Advisors (if notable)\n    - Org growth plan\n\n12. **Financials**\n    - Historical performance\n    - Projections (3-5 years)\n    - Key assumptions\n    - Path to profitability\n\n13. **The Ask**\n    - Raise amount\n    - Use of proceeds\n    - Key milestones this round will achieve\n    - Expected runway\n\n14. **Why Now / Why Us**\n    - Investment thesis summary\n    - Why this is the right time\n    - Why this team will win\n\n**Closing (Slide 15)**\n15. **Contact & Appendix**\n    - Contact information\n    - Appendix reference (detailed financials, customer case studies, etc.)\n\nProvide bullet point content suggestions and design notes for each slide.`,\n    variables: [\n      { name: 'company_name', default: '', description: 'Company name', type: 'text' },\n      { name: 'company_stage', default: 'Series A', description: 'Company stage', type: 'select', options: ['Pre-seed', 'Seed', 'Series A', 'Series B', 'Series C+', 'Growth', 'Pre-IPO'] },\n      { name: 'pitch_context', default: 'Series A fundraise', description: 'Purpose of pitch', type: 'text' },\n      { name: 'raise_amount', default: '10', description: 'Target raise amount ($M)', type: 'currency' },\n      { name: 'use_of_funds', default: '', description: 'Primary use of funds', type: 'textarea' },\n    ],\n    tags: ['pitch-deck', 'fundraising', 'investor', 'presentation'],\n    difficulty: 'intermediate',\n    estimatedTime: '25 min',\n    outputFormats: ['powerpoint', 'pdf'],\n    useCases: ['VC fundraising', 'LP meetings', 'Strategic investor pitch'],\n  },\n\n  // ============================================\n  // PROFESSIONAL REPORTING (3 templates)\n  // ============================================\n  {\n    id: 'investor-update',\n    name: 'Investor Update',\n    description: 'Monthly/quarterly investor update with KPIs and narrative',\n    category: 'Professional Reporting',\n    categorySlug: 'professional-reporting',\n    icon: 'ðŸ“¨',\n    prompt: `Create a comprehensive investor update for {{company_name}} for {{period}}.\n\n**Reporting Period:**\n- Company: {{company_name}}\n- Period: {{period}}\n- Update Frequency: {{frequency}}\n\n**Investor Update Structure:**\n\n1. **TL;DR Summary**\n   - 3-5 bullet point highlights\n   - Overall sentiment (green/yellow/red)\n   - Key ask (if any)\n\n2. **Key Metrics Dashboard**\n   - **Revenue**: \\${{revenue}}K ({{revenue_growth}}% MoM/QoQ)\n   - **MRR/ARR**: \\${{mrr}}K\n   - **Cash Position**: \\${{cash}}K\n   - **Runway**: {{runway}} months\n   - **Customers**: {{customers}} ({{customer_growth}}% growth)\n   - **NRR**: {{nrr}}%\n\n3. **What Went Well**\n   - Major wins\n   - Key milestones achieved\n   - Team highlights\n   - Customer/product wins\n\n4. **Challenges & Learnings**\n   - What didn't go as planned\n   - Key learnings\n   - How we're addressing challenges\n\n5. **Product Update**\n   - Key releases\n   - Roadmap progress\n   - Customer feedback themes\n\n6. **Go-to-Market Update**\n   - Pipeline status\n   - Sales highlights\n   - Marketing performance\n   - Partnership updates\n\n7. **Team Update**\n   - Key hires\n   - Org changes\n   - Hiring priorities\n\n8. **Financial Summary**\n   - P&L snapshot\n   - Burn rate\n   - Variance to plan\n   - Fundraising status (if applicable)\n\n9. **Asks for Investors**\n   - Specific help needed\n   - Introductions requested\n   - Expertise needed\n\n10. **Looking Ahead**\n    - Next period priorities\n    - Key milestones to hit\n    - Risks to monitor\n\nFormat as email-friendly update with clear sections and bullet points.`,\n    variables: [\n      { name: 'company_name', default: '', description: 'Company name', type: 'text' },\n      { name: 'period', default: 'January 2025', description: 'Reporting period', type: 'text' },\n      { name: 'frequency', default: 'Monthly', description: 'Update frequency', type: 'select', options: ['Monthly', 'Quarterly'] },\n      { name: 'revenue', default: '', description: 'Period revenue ($K)', type: 'currency' },\n      { name: 'revenue_growth', default: '', description: 'Revenue growth %', type: 'percentage' },\n      { name: 'mrr', default: '', description: 'Monthly recurring revenue ($K)', type: 'currency' },\n      { name: 'cash', default: '', description: 'Cash position ($K)', type: 'currency' },\n      { name: 'runway', default: '', description: 'Runway in months', type: 'number' },\n      { name: 'customers', default: '', description: 'Total customers', type: 'number' },\n      { name: 'customer_growth', default: '', description: 'Customer growth %', type: 'percentage' },\n      { name: 'nrr', default: '', description: 'Net revenue retention %', type: 'percentage' },\n    ],\n    tags: ['investor-update', 'reporting', 'communication', 'kpis'],\n    difficulty: 'beginner',\n    estimatedTime: '15 min',\n    outputFormats: ['memo', 'pdf'],\n    useCases: ['Investor communication', 'Board prep', 'Stakeholder updates'],\n  },\n  {\n    id: 'board-deck',\n    name: 'Board Deck',\n    description: 'Quarterly board presentation with strategic updates and financials',\n    category: 'Professional Reporting',\n    categorySlug: 'professional-reporting',\n    icon: 'ðŸ‘”',\n    prompt: `Create a comprehensive board deck outline for {{company_name}} for {{quarter}} {{year}}.\n\n**Board Meeting Context:**\n- Company: {{company_name}}\n- Period: {{quarter}} {{year}}\n- Meeting Duration: {{meeting_duration}}\n- Key Topic Focus: {{key_topic}}\n\n**Board Deck Structure:**\n\n**Pre-Read Section (Distribute in Advance)**\n1. **Executive Summary (1 slide)**\n   - Period performance summary\n   - Key achievements\n   - Critical decisions needed\n   - Outlook summary\n\n2. **Scorecard Dashboard (1-2 slides)**\n   - KPI performance vs. targets\n   - Traffic light status indicators\n   - Trend arrows\n   - YoY/QoQ comparisons\n\n3. **Financial Performance (3-4 slides)**\n   - P&L summary vs. budget and prior year\n   - Revenue breakdown by segment/product\n   - Expense analysis\n   - Cash flow and runway\n   - Balance sheet highlights\n\n**Discussion Section**\n4. **Strategic Update (2-3 slides)**\n   - Progress on strategic priorities\n   - OKR status\n   - Key initiatives update\n   - Competitive developments\n\n5. **Product & Technology (2 slides)**\n   - Product roadmap progress\n   - Key releases and impact\n   - Technology investments\n   - Technical debt/security\n\n6. **Go-to-Market (2 slides)**\n   - Sales performance and pipeline\n   - Marketing effectiveness\n   - Customer success metrics\n   - Partnership update\n\n7. **People & Organization (1-2 slides)**\n   - Headcount and hiring\n   - Org changes\n   - Culture/engagement metrics\n   - Key talent updates\n\n8. **Risk Management (1 slide)**\n   - Top risks and mitigations\n   - Risk heat map\n   - New/emerging risks\n\n**Decision Section**\n9. **Decisions Required (1 slide)**\n   - Specific approvals needed\n   - Strategic decisions\n   - Budget requests\n\n10. **Deep Dive Topic: {{key_topic}} (3-5 slides)**\n    - Context and background\n    - Analysis and options\n    - Recommendation\n    - Discussion questions\n\n**Appendix**\n- Detailed financials\n- Customer data\n- Competitive analysis\n- Supporting materials\n\nProvide slide titles, key talking points, and suggested visualizations.`,\n    variables: [\n      { name: 'company_name', default: '', description: 'Company name', type: 'text' },\n      { name: 'quarter', default: 'Q4', description: 'Quarter', type: 'select', options: ['Q1', 'Q2', 'Q3', 'Q4'] },\n      { name: 'year', default: '2024', description: 'Year', type: 'text' },\n      { name: 'meeting_duration', default: '2 hours', description: 'Meeting length', type: 'select', options: ['1 hour', '2 hours', '3 hours', 'Half day'] },\n      { name: 'key_topic', default: '', description: 'Key deep-dive topic for this meeting', type: 'text' },\n    ],\n    tags: ['board-deck', 'governance', 'presentation', 'reporting'],\n    difficulty: 'intermediate',\n    estimatedTime: '30 min',\n    outputFormats: ['powerpoint', 'pdf'],\n    useCases: ['Board meeting', 'Investor update', 'Annual review'],\n  },\n  {\n    id: 'executive-summary',\n    name: 'Executive Summary',\n    description: 'Concise executive summary for reports, proposals, or analyses',\n    category: 'Professional Reporting',\n    categorySlug: 'professional-reporting',\n    icon: 'ðŸ“‘',\n    prompt: `Create a compelling executive summary for {{document_type}} regarding {{subject}}.\n\n**Document Context:**\n- Document Type: {{document_type}}\n- Subject: {{subject}}\n- Audience: {{audience}}\n- Primary Objective: {{objective}}\n- Key Recommendation: {{recommendation}}\n\n**Executive Summary Structure:**\n\n1. **Opening Statement** (1-2 sentences)\n   - Context and purpose\n   - Why this matters now\n\n2. **Situation Overview** (3-4 sentences)\n   - Current state\n   - Key background\n   - Triggering event or catalyst\n\n3. **Key Findings** (4-5 bullet points)\n   - Most important insights\n   - Critical data points\n   - Supporting evidence\n   - Prioritized by importance\n\n4. **Implications** (2-3 bullet points)\n   - What this means for the organization\n   - Risks of inaction\n   - Opportunity cost considerations\n\n5. **Recommendation** (Clear statement)\n   - Specific recommendation\n   - Key rationale\n   - Expected outcome\n\n6. **Next Steps** (3-4 action items)\n   - Immediate actions\n   - Decision points needed\n   - Timeline and owners\n\n7. **Key Metrics/Data** (If applicable)\n   - Supporting quantitative highlights\n   - Comparison points\n   - Target metrics\n\n**Formatting Guidelines:**\n- Total length: {{length}}\n- Tone: {{tone}}\n- Use bullet points for clarity\n- Bold key figures and recommendations\n- Include single supporting visual if helpful\n\nWrite in active voice with clear, concise language appropriate for {{audience}}.`,\n    variables: [\n      { name: 'document_type', default: 'Strategic Analysis', description: 'Type of document', type: 'select', options: ['Strategic Analysis', 'Investment Recommendation', 'Market Research', 'Business Case', 'Project Proposal', 'Risk Assessment', 'Due Diligence Report'] },\n      { name: 'subject', default: '', description: 'Subject matter', type: 'text' },\n      { name: 'audience', default: 'Executive Leadership', description: 'Target audience', type: 'select', options: ['Executive Leadership', 'Board of Directors', 'Investment Committee', 'External Stakeholders', 'Cross-functional Team'] },\n      { name: 'objective', default: '', description: 'Primary objective', type: 'text' },\n      { name: 'recommendation', default: '', description: 'Key recommendation (brief)', type: 'text' },\n      { name: 'length', default: '1 page', description: 'Target length', type: 'select', options: ['Half page', '1 page', '2 pages'] },\n      { name: 'tone', default: 'Professional', description: 'Writing tone', type: 'select', options: ['Professional', 'Formal', 'Persuasive', 'Neutral/Analytical'] },\n    ],\n    tags: ['executive-summary', 'communication', 'writing', 'professional'],\n    difficulty: 'beginner',\n    estimatedTime: '10 min',\n    outputFormats: ['memo', 'pdf'],\n    useCases: ['Report writing', 'Proposal submission', 'Decision support'],\n  },\n];\n\nexport const TEMPLATE_CATEGORIES = [\n  { id: 'all', name: 'All Templates', icon: 'âœ¨', slug: 'all', color: '#d4a853' },\n  { id: 'Financial Analysis', name: 'Financial Analysis', icon: 'ðŸ“Š', slug: 'financial-analysis', color: '#d4a853' },\n  { id: 'Investment Research', name: 'Investment Research', icon: 'ðŸ”', slug: 'investment-research', color: '#14b8a6' },\n  { id: 'Strategy & Planning', name: 'Strategy & Planning', icon: 'âš¡', slug: 'strategy-planning', color: '#8b5cf6' },\n  { id: 'M&A & Deal Work', name: 'M&A & Deal Work', icon: 'ðŸ¤', slug: 'ma-deal-work', color: '#f97316' },\n  { id: 'Professional Reporting', name: 'Professional Reporting', icon: 'ðŸ“‘', slug: 'professional-reporting', color: '#627d98' },\n];\n\n// Helper function to get templates by category\nexport function getTemplatesByCategory(categoryId: string): PromptTemplate[] {\n  if (categoryId === 'all') return PROMPT_TEMPLATES;\n  return PROMPT_TEMPLATES.filter(t => t.category === categoryId);\n}\n\n// Helper function to get templates by difficulty\nexport function getTemplatesByDifficulty(difficulty: 'beginner' | 'intermediate' | 'advanced'): PromptTemplate[] {\n  return PROMPT_TEMPLATES.filter(t => t.difficulty === difficulty);\n}\n\n// Helper function to get templates by output format\nexport function getTemplatesByOutputFormat(format: 'excel' | 'powerpoint' | 'pdf' | 'memo'): PromptTemplate[] {\n  return PROMPT_TEMPLATES.filter(t => t.outputFormats.includes(format));\n}\n\n// Helper function to search templates\nexport function searchTemplates(query: string): PromptTemplate[] {\n  const lowerQuery = query.toLowerCase();\n  return PROMPT_TEMPLATES.filter(t =>\n    t.name.toLowerCase().includes(lowerQuery) ||\n    t.description.toLowerCase().includes(lowerQuery) ||\n    t.tags.some(tag => tag.toLowerCase().includes(lowerQuery)) ||\n    t.category.toLowerCase().includes(lowerQuery)\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3840, "column": 0}, "map": {"version":3,"sources":["file:///Users/hammy/prompt-generator-spec/code-examples/features/smart-compression.ts"],"sourcesContent":["// smart-compression.ts - Intelligent prompt compression to reduce token usage\n// Maintains semantic meaning while reducing costs\n\n// ============================================\n// Types\n// ============================================\n\nexport interface CompressionResult {\n  original: string;\n  compressed: string;\n  originalTokens: number;\n  compressedTokens: number;\n  savings: number; // Percentage\n  changes: CompressionChange[];\n}\n\nexport interface CompressionChange {\n  type: CompressionType;\n  original: string;\n  compressed: string;\n  tokensSaved: number;\n}\n\nexport type CompressionType =\n  | 'remove_redundancy'\n  | 'simplify_phrase'\n  | 'remove_filler'\n  | 'abbreviate'\n  | 'restructure'\n  | 'combine_sentences'\n  | 'remove_examples';\n\nexport interface CompressionOptions {\n  targetReduction?: number; // Target percentage reduction (0-1)\n  preserveExamples?: boolean;\n  preserveFormatting?: boolean;\n  aggressiveness?: 'low' | 'medium' | 'high';\n  customPatterns?: { pattern: RegExp; replacement: string }[];\n}\n\n// ============================================\n// Compression Patterns\n// ============================================\n\ninterface CompressionPattern {\n  type: CompressionType;\n  pattern: RegExp;\n  replacement: string | ((match: string, ...groups: string[]) => string);\n  description: string;\n  aggressiveness: 'low' | 'medium' | 'high';\n}\n\nconst COMPRESSION_PATTERNS: CompressionPattern[] = [\n  // Remove filler words\n  {\n    type: 'remove_filler',\n    pattern: /\\b(basically|essentially|actually|really|very|quite|somewhat|rather)\\b/gi,\n    replacement: '',\n    description: 'Remove filler words',\n    aggressiveness: 'low',\n  },\n  {\n    type: 'remove_filler',\n    pattern: /\\b(in order to)\\b/gi,\n    replacement: 'to',\n    description: 'Simplify \"in order to\"',\n    aggressiveness: 'low',\n  },\n  {\n    type: 'remove_filler',\n    pattern: /\\b(at this point in time)\\b/gi,\n    replacement: 'now',\n    description: 'Simplify \"at this point in time\"',\n    aggressiveness: 'low',\n  },\n  {\n    type: 'remove_filler',\n    pattern: /\\b(due to the fact that)\\b/gi,\n    replacement: 'because',\n    description: 'Simplify \"due to the fact that\"',\n    aggressiveness: 'low',\n  },\n  {\n    type: 'remove_filler',\n    pattern: /\\b(in the event that)\\b/gi,\n    replacement: 'if',\n    description: 'Simplify \"in the event that\"',\n    aggressiveness: 'low',\n  },\n\n  // Simplify phrases\n  {\n    type: 'simplify_phrase',\n    pattern: /\\b(it is important to note that)\\b/gi,\n    replacement: 'Note:',\n    description: 'Simplify importance markers',\n    aggressiveness: 'low',\n  },\n  {\n    type: 'simplify_phrase',\n    pattern: /\\b(please make sure to|please ensure that|make sure to|ensure that)\\b/gi,\n    replacement: '',\n    description: 'Remove unnecessary politeness',\n    aggressiveness: 'medium',\n  },\n  {\n    type: 'simplify_phrase',\n    pattern: /\\b(I would like you to|I want you to)\\b/gi,\n    replacement: '',\n    description: 'Remove request preamble',\n    aggressiveness: 'medium',\n  },\n  {\n    type: 'simplify_phrase',\n    pattern: /\\b(as mentioned (above|earlier|previously|before))\\b/gi,\n    replacement: '',\n    description: 'Remove reference to earlier content',\n    aggressiveness: 'medium',\n  },\n\n  // Remove redundancy\n  {\n    type: 'remove_redundancy',\n    pattern: /\\b(absolutely essential|completely unique|very unique|totally unique)\\b/gi,\n    replacement: (_match: string, ...groups: string[]) => groups[0]?.split(' ').pop() || 'essential',\n    description: 'Remove redundant modifiers',\n    aggressiveness: 'low',\n  },\n  {\n    type: 'remove_redundancy',\n    pattern: /\\b(free gift|advance planning|past history|future plans)\\b/gi,\n    replacement: (_match: string, ...groups: string[]) => groups[0]?.split(' ').pop() || '',\n    description: 'Remove redundant word pairs',\n    aggressiveness: 'low',\n  },\n  {\n    type: 'remove_redundancy',\n    pattern: /(\\.\\s*){2,}/g,\n    replacement: '. ',\n    description: 'Remove multiple periods',\n    aggressiveness: 'low',\n  },\n\n  // Abbreviate common phrases\n  {\n    type: 'abbreviate',\n    pattern: /\\b(for example)\\b/gi,\n    replacement: 'e.g.',\n    description: 'Abbreviate \"for example\"',\n    aggressiveness: 'medium',\n  },\n  {\n    type: 'abbreviate',\n    pattern: /\\b(that is to say)\\b/gi,\n    replacement: 'i.e.',\n    description: 'Abbreviate \"that is to say\"',\n    aggressiveness: 'medium',\n  },\n  {\n    type: 'abbreviate',\n    pattern: /\\b(and so on|et cetera)\\b/gi,\n    replacement: 'etc.',\n    description: 'Abbreviate \"and so on\"',\n    aggressiveness: 'medium',\n  },\n\n  // Restructure verbose constructions\n  {\n    type: 'restructure',\n    pattern: /\\b(the reason (why|that) is (because)?)\\b/gi,\n    replacement: 'because',\n    description: 'Simplify reason constructions',\n    aggressiveness: 'low',\n  },\n  {\n    type: 'restructure',\n    pattern: /\\b(there (is|are) [^.]*? that)\\b/gi,\n    replacement: '',\n    description: 'Remove \"there is/are\" constructions',\n    aggressiveness: 'high',\n  },\n  {\n    type: 'restructure',\n    pattern: /\\b(it is (clear|obvious|evident) that)\\b/gi,\n    replacement: '',\n    description: 'Remove obvious markers',\n    aggressiveness: 'medium',\n  },\n\n  // Remove excessive formatting\n  {\n    type: 'remove_redundancy',\n    pattern: /\\n{3,}/g,\n    replacement: '\\n\\n',\n    description: 'Reduce excessive line breaks',\n    aggressiveness: 'low',\n  },\n  {\n    type: 'remove_redundancy',\n    pattern: /\\s{2,}/g,\n    replacement: ' ',\n    description: 'Reduce excessive spaces',\n    aggressiveness: 'low',\n  },\n];\n\n// ============================================\n// Main Compression Function\n// ============================================\n\n/**\n * Compress a prompt while preserving meaning\n */\nexport function compressPrompt(\n  text: string,\n  options: CompressionOptions = {}\n): CompressionResult {\n  const {\n    targetReduction = 0.3,\n    preserveExamples = true,\n    preserveFormatting = true,\n    aggressiveness = 'medium',\n    customPatterns = [],\n  } = options;\n\n  const originalTokens = estimateTokens(text);\n  const changes: CompressionChange[] = [];\n  let compressed = text;\n\n  // Get applicable patterns based on aggressiveness\n  const aggressivenessLevel = { low: 1, medium: 2, high: 3 };\n  const applicablePatterns = COMPRESSION_PATTERNS.filter(\n    (p) => aggressivenessLevel[p.aggressiveness] <= aggressivenessLevel[aggressiveness]\n  );\n\n  // Apply custom patterns first\n  for (const { pattern, replacement } of customPatterns) {\n    const before = compressed;\n    compressed = compressed.replace(pattern, replacement);\n    if (before !== compressed) {\n      changes.push({\n        type: 'restructure',\n        original: before.match(pattern)?.[0] || '',\n        compressed: replacement,\n        tokensSaved: estimateTokens(before) - estimateTokens(compressed),\n      });\n    }\n  }\n\n  // Apply standard patterns\n  for (const pattern of applicablePatterns) {\n    const before = compressed;\n    compressed = compressed.replace(\n      pattern.pattern,\n      pattern.replacement as string\n    );\n\n    if (before !== compressed) {\n      const match = before.match(pattern.pattern);\n      changes.push({\n        type: pattern.type,\n        original: match?.[0] || '',\n        compressed: typeof pattern.replacement === 'string' ? pattern.replacement : '',\n        tokensSaved: estimateTokens(before) - estimateTokens(compressed),\n      });\n    }\n  }\n\n  // Preserve examples if requested\n  if (!preserveExamples) {\n    const examplePatterns = [\n      /## Examples?\\n[\\s\\S]*?(?=##|$)/gi,\n      /\\bExample:[\\s\\S]*?(?=\\n\\n|$)/gi,\n      /\\bFor instance:[\\s\\S]*?(?=\\n\\n|$)/gi,\n    ];\n\n    for (const pattern of examplePatterns) {\n      const before = compressed;\n      compressed = compressed.replace(pattern, '');\n      if (before !== compressed) {\n        changes.push({\n          type: 'remove_examples',\n          original: before.match(pattern)?.[0] || '',\n          compressed: '',\n          tokensSaved: estimateTokens(before) - estimateTokens(compressed),\n        });\n      }\n    }\n  }\n\n  // Preserve formatting if requested\n  if (!preserveFormatting) {\n    // Remove markdown formatting\n    compressed = compressed\n      .replace(/\\*\\*([^*]+)\\*\\*/g, '$1') // Bold\n      .replace(/__([^_]+)__/g, '$1') // Bold alt\n      .replace(/\\*([^*]+)\\*/g, '$1') // Italic\n      .replace(/_([^_]+)_/g, '$1') // Italic alt\n      .replace(/`([^`]+)`/g, '$1') // Code\n      .replace(/^#+\\s*/gm, ''); // Headers\n  }\n\n  // Clean up\n  compressed = compressed\n    .replace(/\\s+/g, ' ')\n    .replace(/\\n\\s*\\n/g, '\\n\\n')\n    .trim();\n\n  const compressedTokens = estimateTokens(compressed);\n  const savings = ((originalTokens - compressedTokens) / originalTokens) * 100;\n\n  return {\n    original: text,\n    compressed,\n    originalTokens,\n    compressedTokens,\n    savings: Math.round(savings * 10) / 10,\n    changes,\n  };\n}\n\n/**\n * Estimate token count (simplified)\n */\nfunction estimateTokens(text: string): number {\n  return Math.ceil(text.split(/\\s+/).length * 1.3);\n}\n\n// ============================================\n// Semantic-Aware Compression\n// ============================================\n\n/**\n * Compress while preserving semantic structure\n */\nexport function semanticCompress(\n  systemPrompt: string,\n  userPrompt: string,\n  options: CompressionOptions = {}\n): {\n  systemPrompt: CompressionResult;\n  userPrompt: CompressionResult;\n  totalSavings: number;\n} {\n  // Preserve critical parts of system prompt\n  const systemProtectedParts = extractProtectedParts(systemPrompt);\n  let compressibleSystem = systemPrompt;\n\n  for (const part of systemProtectedParts) {\n    compressibleSystem = compressibleSystem.replace(part, `__PROTECTED_${systemProtectedParts.indexOf(part)}__`);\n  }\n\n  const compressedSystem = compressPrompt(compressibleSystem, options);\n\n  // Restore protected parts\n  let finalSystem = compressedSystem.compressed;\n  for (let i = 0; i < systemProtectedParts.length; i++) {\n    finalSystem = finalSystem.replace(`__PROTECTED_${i}__`, systemProtectedParts[i]);\n  }\n\n  compressedSystem.compressed = finalSystem;\n\n  // Compress user prompt\n  const compressedUser = compressPrompt(userPrompt, options);\n\n  const originalTotal = compressedSystem.originalTokens + compressedUser.originalTokens;\n  const compressedTotal = compressedSystem.compressedTokens + compressedUser.compressedTokens;\n  const totalSavings = ((originalTotal - compressedTotal) / originalTotal) * 100;\n\n  return {\n    systemPrompt: compressedSystem,\n    userPrompt: compressedUser,\n    totalSavings: Math.round(totalSavings * 10) / 10,\n  };\n}\n\n/**\n * Extract parts that should not be compressed\n */\nfunction extractProtectedParts(text: string): string[] {\n  const protectedParts: string[] = [];\n\n  // Protect code blocks\n  const codeBlocks = text.match(/```[\\s\\S]*?```/g) || [];\n  protectedParts.push(...codeBlocks);\n\n  // Protect JSON examples\n  const jsonBlocks = text.match(/\\{[\\s\\S]*?\\}/g) || [];\n  protectedParts.push(...jsonBlocks.filter((b) => {\n    try {\n      JSON.parse(b);\n      return true;\n    } catch {\n      return false;\n    }\n  }));\n\n  // Protect variable syntax\n  const variables = text.match(/\\{\\{[^}]+\\}\\}/g) || [];\n  protectedParts.push(...variables);\n\n  // Protect URLs\n  const urls = text.match(/https?:\\/\\/[^\\s]+/g) || [];\n  protectedParts.push(...urls);\n\n  return protectedParts;\n}\n\n// ============================================\n// Compression Suggestions\n// ============================================\n\nexport interface CompressionSuggestion {\n  type: CompressionType;\n  original: string;\n  suggested: string;\n  potentialSavings: number;\n  explanation: string;\n  apply: () => string;\n}\n\n/**\n * Get compression suggestions without applying them\n */\nexport function getCompressionSuggestions(text: string): CompressionSuggestion[] {\n  const suggestions: CompressionSuggestion[] = [];\n\n  for (const pattern of COMPRESSION_PATTERNS) {\n    const matches = text.matchAll(new RegExp(pattern.pattern.source, 'gi'));\n\n    for (const match of matches) {\n      const original = match[0];\n      const suggested = typeof pattern.replacement === 'function'\n        ? pattern.replacement(original, ...match.slice(1))\n        : original.replace(pattern.pattern, pattern.replacement);\n\n      if (original !== suggested) {\n        suggestions.push({\n          type: pattern.type,\n          original,\n          suggested,\n          potentialSavings: estimateTokens(original) - estimateTokens(suggested),\n          explanation: pattern.description,\n          apply: () => text.replace(original, suggested),\n        });\n      }\n    }\n  }\n\n  // Sort by potential savings\n  suggestions.sort((a, b) => b.potentialSavings - a.potentialSavings);\n\n  return suggestions;\n}\n\n// ============================================\n// Batch Compression\n// ============================================\n\nexport interface BatchCompressionResult {\n  results: CompressionResult[];\n  totalOriginalTokens: number;\n  totalCompressedTokens: number;\n  overallSavings: number;\n  avgSavingsPerPrompt: number;\n}\n\n/**\n * Compress multiple prompts\n */\nexport function batchCompress(\n  prompts: string[],\n  options: CompressionOptions = {}\n): BatchCompressionResult {\n  const results = prompts.map((p) => compressPrompt(p, options));\n\n  const totalOriginalTokens = results.reduce((sum, r) => sum + r.originalTokens, 0);\n  const totalCompressedTokens = results.reduce((sum, r) => sum + r.compressedTokens, 0);\n  const overallSavings = ((totalOriginalTokens - totalCompressedTokens) / totalOriginalTokens) * 100;\n\n  return {\n    results,\n    totalOriginalTokens,\n    totalCompressedTokens,\n    overallSavings: Math.round(overallSavings * 10) / 10,\n    avgSavingsPerPrompt: Math.round((results.reduce((sum, r) => sum + r.savings, 0) / results.length) * 10) / 10,\n  };\n}\n\n// ============================================\n// Cost Savings Calculator\n// ============================================\n\nexport interface CostSavingsEstimate {\n  originalCost: number;\n  compressedCost: number;\n  savingsPerExecution: number;\n  monthlySavings: number;\n  yearlySavings: number;\n}\n\n/**\n * Estimate cost savings from compression\n */\nexport function estimateCostSavings(\n  compressionResult: CompressionResult,\n  modelPricePerMillionTokens: number,\n  monthlyExecutions: number\n): CostSavingsEstimate {\n  const originalCost = (compressionResult.originalTokens * modelPricePerMillionTokens) / 1_000_000;\n  const compressedCost = (compressionResult.compressedTokens * modelPricePerMillionTokens) / 1_000_000;\n  const savingsPerExecution = originalCost - compressedCost;\n\n  return {\n    originalCost,\n    compressedCost,\n    savingsPerExecution,\n    monthlySavings: savingsPerExecution * monthlyExecutions,\n    yearlySavings: savingsPerExecution * monthlyExecutions * 12,\n  };\n}\n\n// ============================================\n// Compression Quality Check\n// ============================================\n\n/**\n * Check if compression preserves key information\n */\nexport function validateCompression(\n  original: string,\n  compressed: string\n): { valid: boolean; warnings: string[] } {\n  const warnings: string[] = [];\n\n  // Check if variables are preserved\n  const originalVars = original.match(/\\{\\{[^}]+\\}\\}/g) || [];\n  const compressedVars = compressed.match(/\\{\\{[^}]+\\}\\}/g) || [];\n\n  if (originalVars.length !== compressedVars.length) {\n    warnings.push('Some variables may have been removed');\n  }\n\n  // Check if URLs are preserved\n  const originalUrls = original.match(/https?:\\/\\/[^\\s]+/g) || [];\n  const compressedUrls = compressed.match(/https?:\\/\\/[^\\s]+/g) || [];\n\n  if (originalUrls.length !== compressedUrls.length) {\n    warnings.push('Some URLs may have been removed');\n  }\n\n  // Check for excessive compression\n  const compressionRatio = compressed.length / original.length;\n  if (compressionRatio < 0.3) {\n    warnings.push('Compression may be too aggressive - verify meaning is preserved');\n  }\n\n  return {\n    valid: warnings.length === 0,\n    warnings,\n  };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4223, "column": 0}, "map": {"version":3,"sources":["file:///Users/hammy/prompt-generator-spec/code-examples/features/security.ts"],"sourcesContent":["// security.ts - PII detection, prompt injection protection, and audit logging\n\n// ============================================\n// PII Detection\n// ============================================\n\nexport interface PIIMatch {\n  type: PIIType;\n  value: string;\n  redactedValue: string;\n  startIndex: number;\n  endIndex: number;\n  confidence: 'high' | 'medium' | 'low';\n}\n\nexport type PIIType =\n  | 'email'\n  | 'phone'\n  | 'ssn'\n  | 'credit_card'\n  | 'ip_address'\n  | 'date_of_birth'\n  | 'address'\n  | 'name'\n  | 'passport'\n  | 'driver_license'\n  | 'bank_account'\n  | 'api_key'\n  | 'password';\n\nexport interface PIIPattern {\n  type: PIIType;\n  pattern: RegExp;\n  confidence: PIIMatch['confidence'];\n  description: string;\n}\n\nconst PII_PATTERNS: PIIPattern[] = [\n  // Email\n  {\n    type: 'email',\n    pattern: /[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}/g,\n    confidence: 'high',\n    description: 'Email address',\n  },\n  // Phone numbers (various formats)\n  {\n    type: 'phone',\n    pattern: /(?:\\+?1[-.\\s]?)?\\(?[0-9]{3}\\)?[-.\\s]?[0-9]{3}[-.\\s]?[0-9]{4}/g,\n    confidence: 'high',\n    description: 'Phone number',\n  },\n  // SSN\n  {\n    type: 'ssn',\n    pattern: /\\b\\d{3}[-\\s]?\\d{2}[-\\s]?\\d{4}\\b/g,\n    confidence: 'high',\n    description: 'Social Security Number',\n  },\n  // Credit card numbers\n  {\n    type: 'credit_card',\n    pattern: /\\b(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|3[47][0-9]{13}|6(?:011|5[0-9]{2})[0-9]{12}|3(?:0[0-5]|[68][0-9])[0-9]{11})\\b/g,\n    confidence: 'high',\n    description: 'Credit card number',\n  },\n  // IP addresses\n  {\n    type: 'ip_address',\n    pattern: /\\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\b/g,\n    confidence: 'high',\n    description: 'IP address',\n  },\n  // Date of birth patterns\n  {\n    type: 'date_of_birth',\n    pattern: /\\b(?:DOB|Date of Birth|Born|Birthday)[:\\s]*(\\d{1,2}[\\/\\-]\\d{1,2}[\\/\\-]\\d{2,4})\\b/gi,\n    confidence: 'medium',\n    description: 'Date of birth',\n  },\n  // API keys (common patterns)\n  {\n    type: 'api_key',\n    pattern: /\\b(?:sk-[a-zA-Z0-9]{20,}|api[_-]?key[:\\s=]+['\"]?[a-zA-Z0-9_-]{20,}['\"]?)\\b/gi,\n    confidence: 'high',\n    description: 'API key',\n  },\n  // AWS access keys\n  {\n    type: 'api_key',\n    pattern: /\\bAKIA[0-9A-Z]{16}\\b/g,\n    confidence: 'high',\n    description: 'AWS Access Key',\n  },\n  // Passwords in common formats\n  {\n    type: 'password',\n    pattern: /(?:password|passwd|pwd)[:\\s=]+['\"]?[^\\s'\"]{8,}['\"]?/gi,\n    confidence: 'medium',\n    description: 'Password',\n  },\n  // Bank account numbers (basic)\n  {\n    type: 'bank_account',\n    pattern: /\\b(?:account|acct)[:\\s#]*\\d{8,17}\\b/gi,\n    confidence: 'medium',\n    description: 'Bank account number',\n  },\n  // Passport numbers\n  {\n    type: 'passport',\n    pattern: /\\b(?:passport)[:\\s#]*[A-Z0-9]{6,9}\\b/gi,\n    confidence: 'medium',\n    description: 'Passport number',\n  },\n];\n\n/**\n * Detect PII in text\n */\nexport function detectPII(text: string): PIIMatch[] {\n  const matches: PIIMatch[] = [];\n\n  for (const pattern of PII_PATTERNS) {\n    let match;\n    const regex = new RegExp(pattern.pattern.source, pattern.pattern.flags);\n\n    while ((match = regex.exec(text)) !== null) {\n      const value = match[0];\n      matches.push({\n        type: pattern.type,\n        value,\n        redactedValue: redactValue(value, pattern.type),\n        startIndex: match.index,\n        endIndex: match.index + value.length,\n        confidence: pattern.confidence,\n      });\n    }\n  }\n\n  // Sort by position\n  matches.sort((a, b) => a.startIndex - b.startIndex);\n\n  // Remove overlapping matches (keep higher confidence)\n  const filtered: PIIMatch[] = [];\n  for (const match of matches) {\n    const overlapping = filtered.find(\n      (m) => match.startIndex < m.endIndex && match.endIndex > m.startIndex\n    );\n    if (!overlapping) {\n      filtered.push(match);\n    } else if (\n      match.confidence === 'high' &&\n      overlapping.confidence !== 'high'\n    ) {\n      const idx = filtered.indexOf(overlapping);\n      filtered[idx] = match;\n    }\n  }\n\n  return filtered;\n}\n\n/**\n * Redact a value based on type\n */\nfunction redactValue(value: string, type: PIIType): string {\n  switch (type) {\n    case 'email':\n      const [user, domain] = value.split('@');\n      return `${user[0]}***@${domain}`;\n    case 'phone':\n      return value.replace(/\\d(?=\\d{4})/g, '*');\n    case 'ssn':\n      return '***-**-' + value.slice(-4);\n    case 'credit_card':\n      return '**** **** **** ' + value.slice(-4);\n    case 'api_key':\n      return value.slice(0, 4) + '****' + value.slice(-4);\n    default:\n      if (value.length <= 4) return '****';\n      return value.slice(0, 2) + '*'.repeat(value.length - 4) + value.slice(-2);\n  }\n}\n\n/**\n * Redact all PII in text\n */\nexport function redactPII(text: string): { redacted: string; matches: PIIMatch[] } {\n  const matches = detectPII(text);\n  let redacted = text;\n\n  // Replace from end to preserve indices\n  for (let i = matches.length - 1; i >= 0; i--) {\n    const match = matches[i];\n    redacted =\n      redacted.slice(0, match.startIndex) +\n      match.redactedValue +\n      redacted.slice(match.endIndex);\n  }\n\n  return { redacted, matches };\n}\n\n/**\n * Check if text contains high-risk PII\n */\nexport function hasHighRiskPII(text: string): boolean {\n  const highRiskTypes: PIIType[] = ['ssn', 'credit_card', 'api_key', 'password', 'bank_account'];\n  const matches = detectPII(text);\n  return matches.some((m) => highRiskTypes.includes(m.type) && m.confidence === 'high');\n}\n\n// ============================================\n// Prompt Injection Detection\n// ============================================\n\nexport interface InjectionRisk {\n  type: InjectionType;\n  severity: 'high' | 'medium' | 'low';\n  pattern: string;\n  description: string;\n  position: { start: number; end: number };\n}\n\nexport type InjectionType =\n  | 'instruction_override'\n  | 'role_hijack'\n  | 'delimiter_attack'\n  | 'encoding_attack'\n  | 'recursive_injection'\n  | 'context_manipulation';\n\ninterface InjectionPattern {\n  type: InjectionType;\n  patterns: RegExp[];\n  severity: InjectionRisk['severity'];\n  description: string;\n}\n\nconst INJECTION_PATTERNS: InjectionPattern[] = [\n  {\n    type: 'instruction_override',\n    patterns: [\n      /ignore\\s+(all\\s+)?(previous|above|prior)\\s+(instructions?|text|context)/gi,\n      /disregard\\s+(all\\s+)?(previous|above|prior)/gi,\n      /forget\\s+(everything|all|what)/gi,\n      /new\\s+instructions?:/gi,\n      /override\\s+(system|instructions?)/gi,\n    ],\n    severity: 'high',\n    description: 'Attempts to override previous instructions',\n  },\n  {\n    type: 'role_hijack',\n    patterns: [\n      /you\\s+are\\s+(now|actually|really)/gi,\n      /pretend\\s+(to\\s+be|you('re)?)/gi,\n      /act\\s+as\\s+(if|though)/gi,\n      /roleplay\\s+as/gi,\n      /assume\\s+the\\s+(role|identity)/gi,\n    ],\n    severity: 'high',\n    description: 'Attempts to change the AI role or persona',\n  },\n  {\n    type: 'delimiter_attack',\n    patterns: [\n      /```\\s*(system|admin|developer)/gi,\n      /\\[SYSTEM\\]/gi,\n      /<\\/?system>/gi,\n      /###\\s*(SYSTEM|ADMIN)/gi,\n      /---\\s*END\\s*(PROMPT|SYSTEM)/gi,\n    ],\n    severity: 'medium',\n    description: 'Uses delimiters to inject system-level content',\n  },\n  {\n    type: 'encoding_attack',\n    patterns: [\n      /base64[:\\s]/gi,\n      /\\\\x[0-9a-f]{2}/gi,\n      /\\\\u[0-9a-f]{4}/gi,\n      /&#x?[0-9a-f]+;/gi,\n    ],\n    severity: 'medium',\n    description: 'Uses encoding to hide malicious content',\n  },\n  {\n    type: 'recursive_injection',\n    patterns: [\n      /repeat\\s+(this|the\\s+following)\\s+(forever|indefinitely)/gi,\n      /infinite\\s+loop/gi,\n      /call\\s+yourself/gi,\n    ],\n    severity: 'low',\n    description: 'Attempts to create recursive behavior',\n  },\n  {\n    type: 'context_manipulation',\n    patterns: [\n      /the\\s+user\\s+(actually\\s+)?wants/gi,\n      /what\\s+they\\s+really\\s+mean/gi,\n      /the\\s+real\\s+question/gi,\n      /between\\s+the\\s+lines/gi,\n    ],\n    severity: 'low',\n    description: 'Attempts to manipulate context interpretation',\n  },\n];\n\n/**\n * Detect potential prompt injection attempts\n */\nexport function detectInjection(text: string): InjectionRisk[] {\n  const risks: InjectionRisk[] = [];\n\n  for (const pattern of INJECTION_PATTERNS) {\n    for (const regex of pattern.patterns) {\n      let match;\n      const r = new RegExp(regex.source, regex.flags);\n\n      while ((match = r.exec(text)) !== null) {\n        risks.push({\n          type: pattern.type,\n          severity: pattern.severity,\n          pattern: match[0],\n          description: pattern.description,\n          position: {\n            start: match.index,\n            end: match.index + match[0].length,\n          },\n        });\n      }\n    }\n  }\n\n  // Sort by severity\n  const severityOrder = { high: 0, medium: 1, low: 2 };\n  risks.sort((a, b) => severityOrder[a.severity] - severityOrder[b.severity]);\n\n  return risks;\n}\n\n/**\n * Get overall injection risk level\n */\nexport function getInjectionRiskLevel(\n  text: string\n): 'none' | 'low' | 'medium' | 'high' {\n  const risks = detectInjection(text);\n\n  if (risks.length === 0) return 'none';\n  if (risks.some((r) => r.severity === 'high')) return 'high';\n  if (risks.some((r) => r.severity === 'medium')) return 'medium';\n  return 'low';\n}\n\n/**\n * Sanitize input to reduce injection risk\n */\nexport function sanitizeInput(text: string): string {\n  let sanitized = text;\n\n  // Remove common delimiter attacks\n  sanitized = sanitized.replace(/```\\s*(system|admin)/gi, '```');\n  sanitized = sanitized.replace(/\\[SYSTEM\\]/gi, '[USER]');\n  sanitized = sanitized.replace(/<\\/?system>/gi, '');\n\n  // Escape potential code injection\n  sanitized = sanitized.replace(/\\\\/g, '\\\\\\\\');\n\n  return sanitized;\n}\n\n// ============================================\n// Audit Logging\n// ============================================\n\nexport interface AuditLogEntry {\n  id: string;\n  timestamp: string;\n  userId: string;\n  workspaceId: string;\n  action: AuditAction;\n  resourceType: ResourceType;\n  resourceId: string;\n  resourceName?: string;\n  details: Record<string, unknown>;\n  ipAddress?: string;\n  userAgent?: string;\n  success: boolean;\n  errorMessage?: string;\n}\n\nexport type AuditAction =\n  | 'create'\n  | 'read'\n  | 'update'\n  | 'delete'\n  | 'execute'\n  | 'export'\n  | 'import'\n  | 'share'\n  | 'fork'\n  | 'login'\n  | 'logout'\n  | 'api_key_create'\n  | 'api_key_revoke'\n  | 'settings_change';\n\nexport type ResourceType =\n  | 'prompt'\n  | 'template'\n  | 'experiment'\n  | 'workspace'\n  | 'user'\n  | 'api_key'\n  | 'execution';\n\n/**\n * Create an audit log entry\n */\nexport function createAuditLog(\n  params: Omit<AuditLogEntry, 'id' | 'timestamp'>\n): AuditLogEntry {\n  return {\n    id: `audit_${Date.now()}_${Math.random().toString(36).slice(2)}`,\n    timestamp: new Date().toISOString(),\n    ...params,\n  };\n}\n\n/**\n * Format audit log for display\n */\nexport function formatAuditLog(entry: AuditLogEntry): string {\n  const actionVerbs: Record<AuditAction, string> = {\n    create: 'created',\n    read: 'viewed',\n    update: 'updated',\n    delete: 'deleted',\n    execute: 'executed',\n    export: 'exported',\n    import: 'imported',\n    share: 'shared',\n    fork: 'forked',\n    login: 'logged in',\n    logout: 'logged out',\n    api_key_create: 'created API key',\n    api_key_revoke: 'revoked API key',\n    settings_change: 'changed settings',\n  };\n\n  const verb = actionVerbs[entry.action] || entry.action;\n  const resource = entry.resourceName || entry.resourceId;\n\n  return `${verb} ${entry.resourceType} \"${resource}\"`;\n}\n\n// ============================================\n// Compliance Helpers\n// ============================================\n\nexport interface ComplianceConfig {\n  piiDetection: boolean;\n  piiAutoRedact: boolean;\n  injectionDetection: boolean;\n  auditLogging: boolean;\n  dataRetentionDays: number;\n  allowedRegions: string[];\n}\n\nexport const COMPLIANCE_PRESETS: Record<string, ComplianceConfig> = {\n  standard: {\n    piiDetection: true,\n    piiAutoRedact: false,\n    injectionDetection: true,\n    auditLogging: true,\n    dataRetentionDays: 90,\n    allowedRegions: ['us', 'eu'],\n  },\n  hipaa: {\n    piiDetection: true,\n    piiAutoRedact: true,\n    injectionDetection: true,\n    auditLogging: true,\n    dataRetentionDays: 2555, // 7 years\n    allowedRegions: ['us'],\n  },\n  gdpr: {\n    piiDetection: true,\n    piiAutoRedact: true,\n    injectionDetection: true,\n    auditLogging: true,\n    dataRetentionDays: 30, // Minimal retention\n    allowedRegions: ['eu'],\n  },\n  soc2: {\n    piiDetection: true,\n    piiAutoRedact: false,\n    injectionDetection: true,\n    auditLogging: true,\n    dataRetentionDays: 365,\n    allowedRegions: ['us', 'eu', 'apac'],\n  },\n};\n\n/**\n * Check if content complies with configuration\n */\nexport function checkCompliance(\n  text: string,\n  config: ComplianceConfig\n): {\n  compliant: boolean;\n  issues: string[];\n  warnings: string[];\n} {\n  const issues: string[] = [];\n  const warnings: string[] = [];\n\n  // PII checks\n  if (config.piiDetection) {\n    const piiMatches = detectPII(text);\n    if (piiMatches.length > 0) {\n      if (config.piiAutoRedact) {\n        warnings.push(`Found ${piiMatches.length} PII item(s) - will be auto-redacted`);\n      } else {\n        issues.push(`Contains ${piiMatches.length} PII item(s): ${piiMatches.map(m => m.type).join(', ')}`);\n      }\n    }\n  }\n\n  // Injection checks\n  if (config.injectionDetection) {\n    const injectionRisks = detectInjection(text);\n    const highRisks = injectionRisks.filter(r => r.severity === 'high');\n    if (highRisks.length > 0) {\n      issues.push(`High-risk injection patterns detected: ${highRisks.map(r => r.type).join(', ')}`);\n    }\n  }\n\n  return {\n    compliant: issues.length === 0,\n    issues,\n    warnings,\n  };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4628, "column": 0}, "map": {"version":3,"sources":["file:///Users/hammy/prompt-generator-spec/code-examples/features/variable-system.ts"],"sourcesContent":["// variable-system.ts - Template variable detection and management\n// Supports {{variable}}, {{variable:default}}, and {{variable|type}}\n\nexport interface TemplateVariable {\n  name: string;\n  defaultValue?: string;\n  type?: 'string' | 'number' | 'boolean' | 'array' | 'json';\n  description?: string;\n  required: boolean;\n  position: { start: number; end: number };\n}\n\nexport interface VariableValues {\n  [key: string]: string | number | boolean | unknown[];\n}\n\n// ============================================\n// Variable Detection\n// ============================================\n\nconst VARIABLE_REGEX = /\\{\\{([^}]+)\\}\\}/g;\nconst VARIABLE_PARTS_REGEX = /^([a-zA-Z_][a-zA-Z0-9_]*)(?::([^|]*))?(?:\\|(\\w+))?$/;\n\n/**\n * Extract all variables from a template string\n */\nexport function extractVariables(template: string): TemplateVariable[] {\n  const variables: TemplateVariable[] = [];\n  const seen = new Set<string>();\n  let match;\n\n  while ((match = VARIABLE_REGEX.exec(template)) !== null) {\n    const fullMatch = match[0];\n    const inner = match[1].trim();\n    const partsMatch = inner.match(VARIABLE_PARTS_REGEX);\n\n    if (partsMatch) {\n      const name = partsMatch[1];\n      const defaultValue = partsMatch[2];\n      const type = partsMatch[3] as TemplateVariable['type'];\n\n      if (!seen.has(name)) {\n        seen.add(name);\n        variables.push({\n          name,\n          defaultValue,\n          type: type || 'string',\n          required: defaultValue === undefined,\n          position: {\n            start: match.index,\n            end: match.index + fullMatch.length,\n          },\n        });\n      }\n    }\n  }\n\n  return variables;\n}\n\n/**\n * Check if a string contains template variables\n */\nexport function hasVariables(template: string): boolean {\n  return VARIABLE_REGEX.test(template);\n}\n\n/**\n * Count variables in a template\n */\nexport function countVariables(template: string): number {\n  const matches = template.match(VARIABLE_REGEX);\n  return matches ? new Set(matches.map(m => m.slice(2, -2).split(':')[0].split('|')[0].trim())).size : 0;\n}\n\n// ============================================\n// Variable Substitution\n// ============================================\n\n/**\n * Replace variables in template with provided values\n */\nexport function substituteVariables(\n  template: string,\n  values: VariableValues,\n  options: {\n    strict?: boolean; // Throw on missing required variables\n    preserveUnknown?: boolean; // Keep {{var}} if not in values\n  } = {}\n): string {\n  const { strict = false, preserveUnknown = false } = options;\n  const variables = extractVariables(template);\n  const missingRequired: string[] = [];\n\n  let result = template;\n\n  // Sort by position descending to avoid offset issues\n  const sortedVars = [...variables].sort((a, b) => b.position.start - a.position.start);\n\n  for (const variable of sortedVars) {\n    const { name, defaultValue, type, required } = variable;\n    let value = values[name];\n\n    // Use default if no value provided\n    if (value === undefined) {\n      if (defaultValue !== undefined) {\n        value = defaultValue;\n      } else if (required) {\n        missingRequired.push(name);\n        if (!preserveUnknown) continue;\n      } else if (preserveUnknown) {\n        continue;\n      }\n    }\n\n    // Type coercion\n    const stringValue = coerceToString(value, type);\n\n    // Replace all occurrences of this variable\n    const pattern = new RegExp(`\\\\{\\\\{${name}(?::[^|]*)?(?:\\\\|\\\\w+)?\\\\}\\\\}`, 'g');\n    result = result.replace(pattern, stringValue);\n  }\n\n  if (strict && missingRequired.length > 0) {\n    throw new Error(`Missing required variables: ${missingRequired.join(', ')}`);\n  }\n\n  return result;\n}\n\n/**\n * Coerce value to string based on type hint\n */\nfunction coerceToString(value: unknown, type?: string): string {\n  if (value === undefined || value === null) return '';\n\n  switch (type) {\n    case 'json':\n      return typeof value === 'string' ? value : JSON.stringify(value, null, 2);\n    case 'array':\n      return Array.isArray(value) ? value.join(', ') : String(value);\n    case 'number':\n      return String(Number(value));\n    case 'boolean':\n      return value ? 'true' : 'false';\n    default:\n      return String(value);\n  }\n}\n\n// ============================================\n// Batch Processing\n// ============================================\n\nexport interface BatchInput {\n  id: string;\n  values: VariableValues;\n}\n\nexport interface BatchResult {\n  id: string;\n  input: VariableValues;\n  renderedPrompt: string;\n  success: boolean;\n  error?: string;\n}\n\n/**\n * Process template with multiple input sets\n */\nexport function batchSubstitute(\n  template: string,\n  inputs: BatchInput[]\n): BatchResult[] {\n  return inputs.map((input) => {\n    try {\n      const renderedPrompt = substituteVariables(template, input.values, { strict: true });\n      return {\n        id: input.id,\n        input: input.values,\n        renderedPrompt,\n        success: true,\n      };\n    } catch (error) {\n      return {\n        id: input.id,\n        input: input.values,\n        renderedPrompt: '',\n        success: false,\n        error: (error as Error).message,\n      };\n    }\n  });\n}\n\n/**\n * Parse CSV data into batch inputs\n */\nexport function parseCsvToBatchInputs(\n  csvContent: string,\n  delimiter: string = ','\n): BatchInput[] {\n  const lines = csvContent.trim().split('\\n');\n  if (lines.length < 2) return [];\n\n  const headers = lines[0].split(delimiter).map((h) => h.trim());\n  const inputs: BatchInput[] = [];\n\n  for (let i = 1; i < lines.length; i++) {\n    const values = lines[i].split(delimiter);\n    const input: VariableValues = {};\n\n    headers.forEach((header, index) => {\n      input[header] = values[index]?.trim() || '';\n    });\n\n    inputs.push({\n      id: `row-${i}`,\n      values: input,\n    });\n  }\n\n  return inputs;\n}\n\n// ============================================\n// Variable Form Generation\n// ============================================\n\nexport interface VariableFormField {\n  name: string;\n  label: string;\n  type: 'text' | 'number' | 'checkbox' | 'textarea' | 'select';\n  placeholder?: string;\n  defaultValue?: string;\n  required: boolean;\n  options?: string[]; // For select type\n}\n\n/**\n * Generate form fields from extracted variables\n */\nexport function generateFormFields(variables: TemplateVariable[]): VariableFormField[] {\n  return variables.map((v) => {\n    const label = v.name\n      .replace(/_/g, ' ')\n      .replace(/([A-Z])/g, ' $1')\n      .trim()\n      .split(' ')\n      .map((w) => w.charAt(0).toUpperCase() + w.slice(1).toLowerCase())\n      .join(' ');\n\n    let fieldType: VariableFormField['type'] = 'text';\n    if (v.type === 'number') fieldType = 'number';\n    if (v.type === 'boolean') fieldType = 'checkbox';\n    if (v.type === 'json' || v.type === 'array') fieldType = 'textarea';\n\n    return {\n      name: v.name,\n      label,\n      type: fieldType,\n      placeholder: v.description || `Enter ${label.toLowerCase()}`,\n      defaultValue: v.defaultValue,\n      required: v.required,\n    };\n  });\n}\n\n// ============================================\n// Template Validation\n// ============================================\n\nexport interface ValidationResult {\n  valid: boolean;\n  errors: string[];\n  warnings: string[];\n}\n\n/**\n * Validate template syntax\n */\nexport function validateTemplate(template: string): ValidationResult {\n  const errors: string[] = [];\n  const warnings: string[] = [];\n\n  // Check for unbalanced braces\n  const openCount = (template.match(/\\{\\{/g) || []).length;\n  const closeCount = (template.match(/\\}\\}/g) || []).length;\n\n  if (openCount !== closeCount) {\n    errors.push(`Unbalanced braces: ${openCount} opening, ${closeCount} closing`);\n  }\n\n  // Check for invalid variable names\n  const variables = extractVariables(template);\n  for (const v of variables) {\n    if (!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(v.name)) {\n      errors.push(`Invalid variable name: \"${v.name}\"`);\n    }\n    if (v.type && !['string', 'number', 'boolean', 'array', 'json'].includes(v.type)) {\n      errors.push(`Invalid type \"${v.type}\" for variable \"${v.name}\"`);\n    }\n  }\n\n  // Check for duplicate variables with different defaults\n  const varDefaults = new Map<string, string>();\n  for (const v of variables) {\n    if (varDefaults.has(v.name) && varDefaults.get(v.name) !== v.defaultValue) {\n      warnings.push(`Variable \"${v.name}\" has inconsistent default values`);\n    }\n    varDefaults.set(v.name, v.defaultValue || '');\n  }\n\n  // Check for empty variable names\n  if (template.includes('{{}}')) {\n    errors.push('Empty variable name found: {{}}');\n  }\n\n  return {\n    valid: errors.length === 0,\n    errors,\n    warnings,\n  };\n}\n\n// ============================================\n// Export Functions\n// ============================================\n\nexport function exportToPython(template: string, variables: TemplateVariable[]): string {\n  const varList = variables.map((v) => v.name).join(', ');\n  const escaped = template.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n');\n\n  return `# Generated by PromptForge\nfrom string import Template\nimport re\n\ndef render_prompt(${varList}):\n    template = \"${escaped}\"\n\n    # Replace variables\n    ${variables.map((v) => `template = template.replace(\"{{${v.name}}}\", str(${v.name}))`).join('\\n    ')}\n\n    return template\n\n# Example usage:\n# result = render_prompt(${variables.map((v) => `${v.name}=\"${v.defaultValue || 'value'}\"`).join(', ')})\n`;\n}\n\nexport function exportToJavaScript(template: string, variables: TemplateVariable[]): string {\n  const varList = variables.map((v) => v.name).join(', ');\n  const escaped = template.replace(/`/g, '\\\\`').replace(/\\$/g, '\\\\$');\n\n  return `// Generated by PromptForge\n\nfunction renderPrompt({ ${varList} }) {\n  let template = \\`${escaped}\\`;\n\n  ${variables.map((v) => `template = template.replace(/\\\\{\\\\{${v.name}(?::[^|]*)?(?:\\\\|\\\\w+)?\\\\}\\\\}/g, String(${v.name}));`).join('\\n  ')}\n\n  return template;\n}\n\n// Example usage:\n// const result = renderPrompt({ ${variables.map((v) => `${v.name}: \"${v.defaultValue || 'value'}\"`).join(', ')} });\n\nexport { renderPrompt };\n`;\n}\n\nexport function exportToTypeScript(template: string, variables: TemplateVariable[]): string {\n  const interfaceFields = variables\n    .map((v) => {\n      const tsType = v.type === 'number' ? 'number' : v.type === 'boolean' ? 'boolean' : 'string';\n      return `  ${v.name}${v.required ? '' : '?'}: ${tsType};`;\n    })\n    .join('\\n');\n\n  const escaped = template.replace(/`/g, '\\\\`').replace(/\\$/g, '\\\\$');\n\n  return `// Generated by PromptForge\n\ninterface PromptVariables {\n${interfaceFields}\n}\n\nfunction renderPrompt(variables: PromptVariables): string {\n  let template = \\`${escaped}\\`;\n\n  ${variables.map((v) => `template = template.replace(/\\\\{\\\\{${v.name}(?::[^|]*)?(?:\\\\|\\\\w+)?\\\\}\\\\}/g, String(variables.${v.name}${v.required ? '' : ` ?? \"${v.defaultValue || ''}\"`}));`).join('\\n  ')}\n\n  return template;\n}\n\nexport { renderPrompt, type PromptVariables };\n`;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4915, "column": 0}, "map": {"version":3,"sources":["file:///Users/hammy/prompt-generator-spec/code-examples/features/cost-calculator.ts"],"sourcesContent":["// cost-calculator.ts - Token estimation and cost calculation\n// Real-time cost preview and optimization suggestions\n\nimport type { AIModel } from '@/types/prompt.types';\n\n// ============================================\n// Model Pricing (per million tokens)\n// ============================================\n\nexport interface ModelPricing {\n  id: string;\n  name: string;\n  provider: string;\n  inputPricePerMillion: number;\n  outputPricePerMillion: number;\n  contextWindow: number;\n  maxOutput: number;\n}\n\nexport const MODEL_PRICING: ModelPricing[] = [\n  // Anthropic\n  {\n    id: 'claude-opus-4-5-20250514',\n    name: 'Claude Opus 4.5',\n    provider: 'anthropic',\n    inputPricePerMillion: 15,\n    outputPricePerMillion: 75,\n    contextWindow: 200000,\n    maxOutput: 32000,\n  },\n  {\n    id: 'claude-sonnet-4-20250514',\n    name: 'Claude Sonnet 4',\n    provider: 'anthropic',\n    inputPricePerMillion: 3,\n    outputPricePerMillion: 15,\n    contextWindow: 200000,\n    maxOutput: 64000,\n  },\n  {\n    id: 'claude-3-5-haiku-20241022',\n    name: 'Claude 3.5 Haiku',\n    provider: 'anthropic',\n    inputPricePerMillion: 0.25,\n    outputPricePerMillion: 1.25,\n    contextWindow: 200000,\n    maxOutput: 8192,\n  },\n  // OpenAI\n  {\n    id: 'gpt-4o',\n    name: 'GPT-4o',\n    provider: 'openai',\n    inputPricePerMillion: 5,\n    outputPricePerMillion: 15,\n    contextWindow: 128000,\n    maxOutput: 16384,\n  },\n  {\n    id: 'gpt-4-turbo',\n    name: 'GPT-4 Turbo',\n    provider: 'openai',\n    inputPricePerMillion: 10,\n    outputPricePerMillion: 30,\n    contextWindow: 128000,\n    maxOutput: 4096,\n  },\n  {\n    id: 'gpt-3.5-turbo',\n    name: 'GPT-3.5 Turbo',\n    provider: 'openai',\n    inputPricePerMillion: 0.5,\n    outputPricePerMillion: 1.5,\n    contextWindow: 16385,\n    maxOutput: 4096,\n  },\n  // Google\n  {\n    id: 'gemini-1.5-pro',\n    name: 'Gemini 1.5 Pro',\n    provider: 'google',\n    inputPricePerMillion: 3.5,\n    outputPricePerMillion: 10.5,\n    contextWindow: 1000000,\n    maxOutput: 8192,\n  },\n  {\n    id: 'gemini-1.5-flash',\n    name: 'Gemini 1.5 Flash',\n    provider: 'google',\n    inputPricePerMillion: 0.075,\n    outputPricePerMillion: 0.3,\n    contextWindow: 1000000,\n    maxOutput: 8192,\n  },\n];\n\n// ============================================\n// Token Estimation\n// ============================================\n\n/**\n * Estimate token count for text\n * Uses ~4 characters per token for English (approximation)\n * More accurate estimation would use a proper tokenizer\n */\nexport function estimateTokens(text: string): number {\n  if (!text) return 0;\n\n  // Count words, punctuation, and whitespace separately\n  const words = text.split(/\\s+/).filter(Boolean).length;\n  const punctuation = (text.match(/[.,!?;:'\"()\\[\\]{}]/g) || []).length;\n  const numbers = (text.match(/\\d+/g) || []).length;\n\n  // Rough estimation: ~1.3 tokens per word on average\n  // Punctuation is usually 1 token each\n  // Numbers can vary\n  return Math.ceil(words * 1.3 + punctuation + numbers * 0.5);\n}\n\n/**\n * More accurate token estimation using byte-pair encoding approximation\n */\nexport function estimateTokensAccurate(text: string): number {\n  if (!text) return 0;\n\n  // Split into \"token-like\" units\n  const tokenPattern = /[\\w]+|[^\\w\\s]|\\s+/g;\n  const matches = text.match(tokenPattern) || [];\n\n  let tokens = 0;\n  for (const match of matches) {\n    if (/^\\s+$/.test(match)) {\n      // Whitespace\n      tokens += Math.ceil(match.length / 4);\n    } else if (/^[\\w]+$/.test(match)) {\n      // Words - estimate based on length\n      if (match.length <= 4) {\n        tokens += 1;\n      } else if (match.length <= 8) {\n        tokens += 2;\n      } else {\n        tokens += Math.ceil(match.length / 4);\n      }\n    } else {\n      // Punctuation/special chars\n      tokens += 1;\n    }\n  }\n\n  return tokens;\n}\n\n// ============================================\n// Cost Calculation\n// ============================================\n\nexport interface CostEstimate {\n  inputTokens: number;\n  outputTokens: number;\n  inputCost: number;\n  outputCost: number;\n  totalCost: number;\n  model: ModelPricing;\n}\n\n/**\n * Calculate cost for a single execution\n */\nexport function calculateCost(\n  inputText: string,\n  estimatedOutputTokens: number,\n  modelId: string\n): CostEstimate {\n  const model = MODEL_PRICING.find((m) => m.id === modelId);\n  if (!model) {\n    throw new Error(`Unknown model: ${modelId}`);\n  }\n\n  const inputTokens = estimateTokensAccurate(inputText);\n  const outputTokens = Math.min(estimatedOutputTokens, model.maxOutput);\n\n  const inputCost = (inputTokens * model.inputPricePerMillion) / 1_000_000;\n  const outputCost = (outputTokens * model.outputPricePerMillion) / 1_000_000;\n\n  return {\n    inputTokens,\n    outputTokens,\n    inputCost,\n    outputCost,\n    totalCost: inputCost + outputCost,\n    model,\n  };\n}\n\n/**\n * Calculate batch cost\n */\nexport function calculateBatchCost(\n  prompts: string[],\n  avgOutputTokens: number,\n  modelId: string\n): {\n  estimates: CostEstimate[];\n  totalCost: number;\n  avgCostPerPrompt: number;\n} {\n  const estimates = prompts.map((p) =>\n    calculateCost(p, avgOutputTokens, modelId)\n  );\n\n  const totalCost = estimates.reduce((sum, e) => sum + e.totalCost, 0);\n\n  return {\n    estimates,\n    totalCost,\n    avgCostPerPrompt: totalCost / prompts.length,\n  };\n}\n\n/**\n * Project monthly cost based on usage\n */\nexport function projectMonthlyCost(\n  dailyExecutions: number,\n  avgInputTokens: number,\n  avgOutputTokens: number,\n  modelId: string\n): {\n  daily: number;\n  weekly: number;\n  monthly: number;\n  yearly: number;\n} {\n  const model = MODEL_PRICING.find((m) => m.id === modelId);\n  if (!model) {\n    throw new Error(`Unknown model: ${modelId}`);\n  }\n\n  const costPerExecution =\n    (avgInputTokens * model.inputPricePerMillion) / 1_000_000 +\n    (avgOutputTokens * model.outputPricePerMillion) / 1_000_000;\n\n  const daily = dailyExecutions * costPerExecution;\n\n  return {\n    daily,\n    weekly: daily * 7,\n    monthly: daily * 30,\n    yearly: daily * 365,\n  };\n}\n\n// ============================================\n// Cost Optimization\n// ============================================\n\nexport interface OptimizationSuggestion {\n  type: 'model_switch' | 'prompt_compression' | 'caching' | 'batching';\n  description: string;\n  currentCost: number;\n  projectedCost: number;\n  savings: number;\n  savingsPercent: number;\n  recommendation: string;\n}\n\n/**\n * Get cost optimization suggestions\n */\nexport function getOptimizationSuggestions(\n  inputText: string,\n  outputTokens: number,\n  currentModelId: string,\n  monthlyExecutions: number\n): OptimizationSuggestion[] {\n  const suggestions: OptimizationSuggestion[] = [];\n  const currentEstimate = calculateCost(inputText, outputTokens, currentModelId);\n  const monthlyCurrentCost = currentEstimate.totalCost * monthlyExecutions;\n\n  // Check for cheaper model alternatives\n  const currentModel = MODEL_PRICING.find((m) => m.id === currentModelId)!;\n\n  for (const altModel of MODEL_PRICING) {\n    if (altModel.id === currentModelId) continue;\n    if (altModel.contextWindow < currentEstimate.inputTokens) continue;\n\n    const altEstimate = calculateCost(inputText, outputTokens, altModel.id);\n    const monthlyAltCost = altEstimate.totalCost * monthlyExecutions;\n    const savings = monthlyCurrentCost - monthlyAltCost;\n\n    if (savings > 0) {\n      suggestions.push({\n        type: 'model_switch',\n        description: `Switch from ${currentModel.name} to ${altModel.name}`,\n        currentCost: monthlyCurrentCost,\n        projectedCost: monthlyAltCost,\n        savings,\n        savingsPercent: (savings / monthlyCurrentCost) * 100,\n        recommendation: `Consider using ${altModel.name} for simpler tasks to save $${savings.toFixed(2)}/month`,\n      });\n    }\n  }\n\n  // Prompt compression suggestion if prompt is long\n  if (currentEstimate.inputTokens > 1000) {\n    const compressionSavings = monthlyCurrentCost * 0.2; // Assume 20% reduction\n    suggestions.push({\n      type: 'prompt_compression',\n      description: 'Optimize prompt to reduce token usage',\n      currentCost: monthlyCurrentCost,\n      projectedCost: monthlyCurrentCost * 0.8,\n      savings: compressionSavings,\n      savingsPercent: 20,\n      recommendation: 'Your prompt is lengthy. Consider removing redundant instructions or using prompt compression.',\n    });\n  }\n\n  // Caching suggestion for repetitive prompts\n  if (monthlyExecutions > 100) {\n    const cacheSavings = monthlyCurrentCost * 0.3; // Assume 30% cache hit rate\n    suggestions.push({\n      type: 'caching',\n      description: 'Enable response caching for repeated queries',\n      currentCost: monthlyCurrentCost,\n      projectedCost: monthlyCurrentCost * 0.7,\n      savings: cacheSavings,\n      savingsPercent: 30,\n      recommendation: 'With high volume, caching similar queries could reduce costs significantly.',\n    });\n  }\n\n  // Sort by savings\n  suggestions.sort((a, b) => b.savings - a.savings);\n\n  return suggestions;\n}\n\n// ============================================\n// Budget Tracking\n// ============================================\n\nexport interface BudgetConfig {\n  monthlyLimit: number;\n  warningThreshold: number; // Percentage (0-1)\n  alertThreshold: number;\n}\n\nexport interface BudgetStatus {\n  spent: number;\n  remaining: number;\n  percentUsed: number;\n  status: 'ok' | 'warning' | 'alert' | 'exceeded';\n  projectedEndOfMonth: number;\n  daysRemaining: number;\n}\n\n/**\n * Check budget status\n */\nexport function checkBudgetStatus(\n  config: BudgetConfig,\n  currentSpend: number,\n  dailyAvgSpend: number\n): BudgetStatus {\n  const today = new Date();\n  const endOfMonth = new Date(today.getFullYear(), today.getMonth() + 1, 0);\n  const daysRemaining = Math.ceil(\n    (endOfMonth.getTime() - today.getTime()) / (1000 * 60 * 60 * 24)\n  );\n\n  const projectedEndOfMonth = currentSpend + dailyAvgSpend * daysRemaining;\n  const percentUsed = currentSpend / config.monthlyLimit;\n\n  let status: BudgetStatus['status'] = 'ok';\n  if (currentSpend >= config.monthlyLimit) {\n    status = 'exceeded';\n  } else if (percentUsed >= config.alertThreshold) {\n    status = 'alert';\n  } else if (percentUsed >= config.warningThreshold) {\n    status = 'warning';\n  }\n\n  return {\n    spent: currentSpend,\n    remaining: Math.max(0, config.monthlyLimit - currentSpend),\n    percentUsed: percentUsed * 100,\n    status,\n    projectedEndOfMonth,\n    daysRemaining,\n  };\n}\n\n// ============================================\n// Format Helpers\n// ============================================\n\nexport function formatCost(amount: number): string {\n  if (amount < 0.01) {\n    return `$${(amount * 100).toFixed(3)}Â¢`;\n  }\n  return `$${amount.toFixed(4)}`;\n}\n\nexport function formatTokens(count: number): string {\n  if (count >= 1_000_000) {\n    return `${(count / 1_000_000).toFixed(1)}M`;\n  }\n  if (count >= 1_000) {\n    return `${(count / 1_000).toFixed(1)}K`;\n  }\n  return count.toString();\n}\n\n// ============================================\n// Cost Comparison\n// ============================================\n\nexport interface ModelComparison {\n  model: ModelPricing;\n  inputCost: number;\n  outputCost: number;\n  totalCost: number;\n  relativeCost: number; // 1.0 = cheapest\n}\n\n/**\n * Compare costs across all models\n */\nexport function compareModels(\n  inputTokens: number,\n  outputTokens: number\n): ModelComparison[] {\n  const comparisons: ModelComparison[] = MODEL_PRICING.map((model) => {\n    const inputCost = (inputTokens * model.inputPricePerMillion) / 1_000_000;\n    const outputCost = (outputTokens * model.outputPricePerMillion) / 1_000_000;\n\n    return {\n      model,\n      inputCost,\n      outputCost,\n      totalCost: inputCost + outputCost,\n      relativeCost: 0, // Will calculate below\n    };\n  });\n\n  // Calculate relative cost\n  const minCost = Math.min(...comparisons.map((c) => c.totalCost));\n  for (const comparison of comparisons) {\n    comparison.relativeCost = comparison.totalCost / minCost;\n  }\n\n  // Sort by total cost\n  comparisons.sort((a, b) => a.totalCost - b.totalCost);\n\n  return comparisons;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5216, "column": 0}, "map": {"version":3,"sources":["file:///Users/hammy/prompt-generator-spec/code-examples/app/playground/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback, Suspense } from 'react';\nimport Link from 'next/link';\nimport { useSearchParams } from 'next/navigation';\nimport { Icons, Icon } from '../components/Icons';\nimport { Tooltip, HelpTooltip } from '../components/Tooltip';\nimport { PROMPT_TEMPLATES, TEMPLATE_CATEGORIES, PromptTemplate, getTemplatesByCategory } from '../components/PromptTemplates';\nimport { compressPrompt } from '@/features/smart-compression';\nimport { detectPII, redactPII, detectInjection, getInjectionRiskLevel } from '@/features/security';\nimport { extractVariables, substituteVariables } from '@/features/variable-system';\nimport { calculateCost, MODEL_PRICING } from '@/features/cost-calculator';\n\n// Loading fallback component\nfunction PlaygroundLoading() {\n  return (\n    <div className=\"min-h-screen bg-[#0a1929] flex items-center justify-center\">\n      <div className=\"text-center\">\n        <div className=\"w-12 h-12 rounded-xl bg-gradient-to-br from-[#d4a853] to-[#b8953f] flex items-center justify-center mx-auto mb-4 animate-pulse\">\n          <Icons.chart className=\"w-7 h-7 text-[#0a1929]\" />\n        </div>\n        <p className=\"text-[#94a3b8]\">Loading builder...</p>\n      </div>\n    </div>\n  );\n}\n\n// Main export wrapped in Suspense\nexport default function PlaygroundPage() {\n  return (\n    <Suspense fallback={<PlaygroundLoading />}>\n      <Playground />\n    </Suspense>\n  );\n}\n\ntype Mode = 'simple' | 'expert';\ntype Step = 'industry' | 'template' | 'customize' | 'review' | 'export';\n\n// Industry/use-case options for finance professionals\nconst INDUSTRY_OPTIONS = [\n  {\n    id: 'ma',\n    name: 'M&A & Deal Work',\n    description: 'Investment memos, term sheets, due diligence',\n    icon: 'handshake',\n    color: '#d4a853',\n    categories: ['ma'],\n  },\n  {\n    id: 'research',\n    name: 'Investment Research',\n    description: 'Due diligence, competitive intel, sector analysis',\n    icon: 'search',\n    color: '#14b8a6',\n    categories: ['research'],\n  },\n  {\n    id: 'strategy',\n    name: 'Strategy & Planning',\n    description: 'SWOT analysis, business plans, OKRs',\n    icon: 'target',\n    color: '#8b5cf6',\n    categories: ['strategy'],\n  },\n  {\n    id: 'reporting',\n    name: 'Professional Reporting',\n    description: 'Board decks, investor updates, executive summaries',\n    icon: 'presentation',\n    color: '#f97316',\n    categories: ['reporting'],\n  },\n  {\n    id: 'analysis',\n    name: 'Financial Analysis',\n    description: 'DCF, comps, earnings analysis, sensitivity',\n    icon: 'chart',\n    color: '#059669',\n    categories: ['analysis'],\n  },\n];\n\n// Export format options\nconst EXPORT_FORMATS = [\n  { id: 'copy', name: 'Copy to Clipboard', icon: 'copy', description: 'Copy prompt text' },\n  { id: 'excel', name: 'Excel-Ready', icon: 'spreadsheet', description: 'Formatted for spreadsheets' },\n  { id: 'powerpoint', name: 'PowerPoint-Ready', icon: 'presentation', description: 'Slide-friendly format' },\n  { id: 'memo', name: 'Memo Format', icon: 'document', description: 'Professional document' },\n  { id: 'pdf', name: 'PDF Export', icon: 'documentChart', description: 'Download as PDF' },\n];\n\n// Model recommendations based on complexity\nconst MODEL_RECOMMENDATIONS = {\n  beginner: { model: 'claude-3-5-haiku-20241022', reason: 'Fast and cost-effective for simple tasks' },\n  intermediate: { model: 'claude-sonnet-4-20250514', reason: 'Balanced performance for standard analysis' },\n  advanced: { model: 'claude-opus-4-5-20250514', reason: 'Maximum capability for complex financial modeling' },\n};\n\nfunction Playground() {\n  const searchParams = useSearchParams();\n\n  // Core state\n  const [mode, setMode] = useState<Mode>('simple');\n  const [currentStep, setCurrentStep] = useState<Step>('industry');\n  const [prompt, setPrompt] = useState('');\n  const [originalPrompt, setOriginalPrompt] = useState('');\n\n  // Industry & Template state\n  const [selectedIndustry, setSelectedIndustry] = useState<string | null>(null);\n  const [selectedTemplate, setSelectedTemplate] = useState<PromptTemplate | null>(null);\n  const [selectedCategory, setSelectedCategory] = useState('all');\n  const [variableValues, setVariableValues] = useState<Record<string, string>>({});\n  const [searchQuery, setSearchQuery] = useState('');\n\n  // Export state\n  const [selectedExportFormat, setSelectedExportFormat] = useState('copy');\n  const [auditMode, setAuditMode] = useState(false);\n\n  // Analysis state\n  const [analysisResults, setAnalysisResults] = useState<{\n    tokens: number;\n    cost: number;\n    piiCount: number;\n    injectionRisk: string;\n    compressionSavings: number;\n  } | null>(null);\n\n  // UI state\n  const [copied, setCopied] = useState(false);\n  const [showHistory, setShowHistory] = useState(false);\n  const [history, setHistory] = useState<string[]>([]);\n  const [selectedModel, setSelectedModel] = useState('claude-sonnet-4-20250514');\n\n  // Handle URL parameters for direct template access\n  useEffect(() => {\n    const templateId = searchParams.get('template');\n    const modeParam = searchParams.get('mode');\n\n    if (modeParam === 'expert') {\n      setMode('expert');\n    }\n\n    if (templateId) {\n      const template = PROMPT_TEMPLATES.find(t => t.id === templateId);\n      if (template) {\n        handleSelectTemplate(template);\n      }\n    }\n  }, [searchParams]);\n\n  // Load history from localStorage\n  useEffect(() => {\n    const saved = localStorage.getItem('promptforge-history');\n    if (saved) {\n      setHistory(JSON.parse(saved));\n    }\n  }, []);\n\n  // Analyze prompt whenever it changes\n  useEffect(() => {\n    if (prompt.length > 10) {\n      const cost = calculateCost(prompt, 500, selectedModel);\n      const pii = detectPII(prompt);\n      const compression = compressPrompt(prompt);\n      const riskLevel = getInjectionRiskLevel(prompt);\n\n      setAnalysisResults({\n        tokens: cost.inputTokens,\n        cost: cost.totalCost,\n        piiCount: pii.length,\n        injectionRisk: riskLevel,\n        compressionSavings: compression.savings,\n      });\n    } else {\n      setAnalysisResults(null);\n    }\n  }, [prompt, selectedModel]);\n\n  // Update model recommendation based on template difficulty\n  useEffect(() => {\n    if (selectedTemplate) {\n      const recommendation = MODEL_RECOMMENDATIONS[selectedTemplate.difficulty];\n      if (recommendation) {\n        setSelectedModel(recommendation.model);\n      }\n    }\n  }, [selectedTemplate]);\n\n  // Handle industry selection\n  const handleSelectIndustry = (industryId: string) => {\n    setSelectedIndustry(industryId);\n    const industry = INDUSTRY_OPTIONS.find(i => i.id === industryId);\n    if (industry && industry.categories.length > 0) {\n      setSelectedCategory(industry.categories[0]);\n    }\n    setCurrentStep('template');\n  };\n\n  // Handle template selection\n  const handleSelectTemplate = (template: PromptTemplate) => {\n    setSelectedTemplate(template);\n    setPrompt(template.prompt);\n    setOriginalPrompt(template.prompt);\n\n    // Initialize variable values with defaults\n    const defaults: Record<string, string> = {};\n    template.variables.forEach(v => {\n      defaults[v.name] = v.default;\n    });\n    setVariableValues(defaults);\n\n    setCurrentStep('customize');\n  };\n\n  // Handle variable change\n  const handleVariableChange = (name: string, value: string) => {\n    setVariableValues(prev => ({ ...prev, [name]: value }));\n  };\n\n  // Generate final prompt\n  const generatePrompt = useCallback(() => {\n    if (!selectedTemplate) return prompt;\n    return substituteVariables(selectedTemplate.prompt, variableValues);\n  }, [selectedTemplate, variableValues, prompt]);\n\n  // Format prompt for export\n  const formatPromptForExport = (format: string) => {\n    const finalPrompt = mode === 'simple' ? generatePrompt() : prompt;\n\n    switch (format) {\n      case 'excel':\n        // Add markdown table formatting hints\n        return `=== EXCEL-READY FORMAT ===\\n\\n${finalPrompt}\\n\\n=== OUTPUT INSTRUCTIONS ===\\nPlease format all numerical data in tables with:\\n- Column headers in Row 1\\n- Currency values with $ symbol and 2 decimal places\\n- Percentages with % symbol and 1 decimal place\\n- Dates in YYYY-MM-DD format`;\n\n      case 'powerpoint':\n        // Add slide-friendly formatting\n        return `=== PRESENTATION FORMAT ===\\n\\n${finalPrompt}\\n\\n=== OUTPUT INSTRUCTIONS ===\\nPlease format output as:\\n- Bullet points (max 5-7 per section)\\n- Clear section headers\\n- Key metrics highlighted\\n- Executive summary at the top`;\n\n      case 'memo':\n        // Professional memo format\n        const today = new Date().toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });\n        return `=== MEMO FORMAT ===\\nDate: ${today}\\nRe: ${selectedTemplate?.name || 'Analysis'}\\n\\n${finalPrompt}\\n\\n=== OUTPUT INSTRUCTIONS ===\\nPlease structure the response as a professional memo with:\\n- Executive Summary\\n- Key Findings\\n- Detailed Analysis\\n- Recommendations\\n- Appendix (if applicable)`;\n\n      case 'pdf':\n      case 'copy':\n      default:\n        return finalPrompt;\n    }\n  };\n\n  // Copy to clipboard\n  const handleCopy = async () => {\n    const finalPrompt = formatPromptForExport(selectedExportFormat);\n    await navigator.clipboard.writeText(finalPrompt);\n    setCopied(true);\n    setTimeout(() => setCopied(false), 2000);\n\n    // Save to history\n    const newHistory = [finalPrompt, ...history.slice(0, 9)];\n    setHistory(newHistory);\n    localStorage.setItem('promptforge-history', JSON.stringify(newHistory));\n\n    // Log audit trail if enabled\n    if (auditMode) {\n      const auditEntry = {\n        timestamp: new Date().toISOString(),\n        template: selectedTemplate?.name || 'Custom',\n        format: selectedExportFormat,\n        tokens: analysisResults?.tokens || 0,\n        cost: analysisResults?.cost || 0,\n      };\n      console.log('Audit Log:', auditEntry);\n    }\n  };\n\n  // Optimize prompt\n  const handleOptimize = () => {\n    const currentPrompt = mode === 'simple' ? generatePrompt() : prompt;\n    const result = compressPrompt(currentPrompt, { aggressiveness: 'medium' });\n    setPrompt(result.compressed);\n  };\n\n  // Security scan\n  const handleSecurityScan = () => {\n    const currentPrompt = mode === 'simple' ? generatePrompt() : prompt;\n    const { redacted } = redactPII(currentPrompt);\n    setPrompt(redacted);\n  };\n\n  // Get templates for current category/industry\n  const filteredTemplates = PROMPT_TEMPLATES.filter(t => {\n    const matchesCategory = selectedCategory === 'all' || t.category === selectedCategory;\n    const matchesSearch = searchQuery === '' ||\n      t.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      t.description.toLowerCase().includes(searchQuery.toLowerCase());\n    return matchesCategory && matchesSearch;\n  });\n\n  // Steps for simple mode\n  const steps: { id: Step; name: string; icon: keyof typeof Icons }[] = [\n    { id: 'industry', name: 'Industry', icon: 'building' },\n    { id: 'template', name: 'Template', icon: 'documentChart' },\n    { id: 'customize', name: 'Details', icon: 'wand' },\n    { id: 'review', name: 'Review', icon: 'eye' },\n    { id: 'export', name: 'Export', icon: 'download' },\n  ];\n\n  const currentStepIndex = steps.findIndex(s => s.id === currentStep);\n\n  // Render variable input based on type\n  const renderVariableInput = (variable: { name: string; description: string; default: string; type?: string }) => {\n    const type = variable.type || 'text';\n    const commonClasses = \"input\";\n\n    switch (type) {\n      case 'currency':\n        return (\n          <div className=\"relative\">\n            <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-[#64748b]\">$</span>\n            <input\n              type=\"text\"\n              value={variableValues[variable.name] || ''}\n              onChange={(e) => handleVariableChange(variable.name, e.target.value)}\n              className={`${commonClasses} pl-8 tabular-nums`}\n              placeholder={variable.default || '0.00'}\n            />\n          </div>\n        );\n\n      case 'percentage':\n        return (\n          <div className=\"relative\">\n            <input\n              type=\"text\"\n              value={variableValues[variable.name] || ''}\n              onChange={(e) => handleVariableChange(variable.name, e.target.value)}\n              className={`${commonClasses} pr-8 tabular-nums`}\n              placeholder={variable.default || '0'}\n            />\n            <span className=\"absolute right-3 top-1/2 -translate-y-1/2 text-[#64748b]\">%</span>\n          </div>\n        );\n\n      case 'number':\n        return (\n          <input\n            type=\"number\"\n            value={variableValues[variable.name] || ''}\n            onChange={(e) => handleVariableChange(variable.name, e.target.value)}\n            className={`${commonClasses} tabular-nums`}\n            placeholder={variable.default || '0'}\n          />\n        );\n\n      case 'date':\n        return (\n          <input\n            type=\"date\"\n            value={variableValues[variable.name] || ''}\n            onChange={(e) => handleVariableChange(variable.name, e.target.value)}\n            className={commonClasses}\n          />\n        );\n\n      case 'select':\n        const options = variable.default.split(',').map(o => o.trim());\n        return (\n          <select\n            value={variableValues[variable.name] || options[0]}\n            onChange={(e) => handleVariableChange(variable.name, e.target.value)}\n            className={commonClasses}\n          >\n            {options.map(opt => (\n              <option key={opt} value={opt}>{opt}</option>\n            ))}\n          </select>\n        );\n\n      case 'textarea':\n        return (\n          <textarea\n            value={variableValues[variable.name] || ''}\n            onChange={(e) => handleVariableChange(variable.name, e.target.value)}\n            className={`${commonClasses} h-32 resize-none font-mono text-sm`}\n            placeholder={variable.description}\n          />\n        );\n\n      default:\n        return (\n          <input\n            type=\"text\"\n            value={variableValues[variable.name] || ''}\n            onChange={(e) => handleVariableChange(variable.name, e.target.value)}\n            className={commonClasses}\n            placeholder={variable.default || variable.description}\n          />\n        );\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-[#0a1929]\">\n      {/* Background */}\n      <div className=\"fixed inset-0 bg-gradient-mesh pointer-events-none opacity-30\" />\n\n      {/* Header */}\n      <header className=\"relative z-10 border-b border-[#1e3a5f]\">\n        <div className=\"max-w-7xl mx-auto px-6 py-4\">\n          <div className=\"flex items-center justify-between\">\n            {/* Logo */}\n            <Link href=\"/\" className=\"flex items-center gap-3 hover:opacity-80 transition-opacity\">\n              <div className=\"w-10 h-10 rounded-xl bg-gradient-to-br from-[#d4a853] to-[#b8953f] flex items-center justify-center\">\n                <Icons.chart className=\"w-6 h-6 text-[#0a1929]\" />\n              </div>\n              <div>\n                <span className=\"text-xl font-bold\">\n                  <span className=\"text-[#d4a853]\">Prompt</span>\n                  <span className=\"text-white\">Forge</span>\n                </span>\n                <span className=\"ml-2 text-xs px-2 py-0.5 bg-[rgba(212,168,83,0.2)] text-[#d4a853] rounded-full\">\n                  {mode === 'simple' ? 'Simple' : 'Expert'}\n                </span>\n              </div>\n            </Link>\n\n            {/* Mode Toggle */}\n            <div className=\"flex items-center gap-4\">\n              <div className=\"flex bg-[#0f2137] rounded-xl p-1 border border-[#1e3a5f]\">\n                <button\n                  onClick={() => setMode('simple')}\n                  className={`px-4 py-2 rounded-lg text-sm font-medium transition-all ${\n                    mode === 'simple'\n                      ? 'bg-[#d4a853] text-[#0a1929]'\n                      : 'text-[#94a3b8] hover:text-white'\n                  }`}\n                >\n                  <Icons.wand className=\"w-4 h-4 inline mr-2\" />\n                  Simple\n                </button>\n                <button\n                  onClick={() => setMode('expert')}\n                  className={`px-4 py-2 rounded-lg text-sm font-medium transition-all ${\n                    mode === 'expert'\n                      ? 'bg-[#d4a853] text-[#0a1929]'\n                      : 'text-[#94a3b8] hover:text-white'\n                  }`}\n                >\n                  <Icons.beaker className=\"w-4 h-4 inline mr-2\" />\n                  Expert\n                </button>\n              </div>\n\n              <button\n                onClick={() => setShowHistory(!showHistory)}\n                className=\"p-2 text-[#64748b] hover:text-[#d4a853] transition-colors\"\n              >\n                <Icons.history className=\"w-5 h-5\" />\n              </button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"relative z-10 max-w-7xl mx-auto px-6 py-8\">\n        {/* Simple Mode */}\n        {mode === 'simple' && (\n          <div className=\"space-y-8\">\n            {/* Progress Steps */}\n            <div className=\"flex items-center justify-center gap-2 overflow-x-auto pb-2\">\n              {steps.map((step, index) => {\n                const StepIcon = Icons[step.icon];\n                return (\n                  <div key={step.id} className=\"flex items-center\">\n                    <button\n                      onClick={() => index <= currentStepIndex && setCurrentStep(step.id)}\n                      disabled={index > currentStepIndex}\n                      className={`flex items-center gap-2 px-4 py-2 rounded-xl transition-all ${\n                        step.id === currentStep\n                          ? 'bg-[#d4a853] text-[#0a1929]'\n                          : index < currentStepIndex\n                          ? 'bg-[rgba(212,168,83,0.2)] text-[#d4a853] hover:bg-[rgba(212,168,83,0.3)]'\n                          : 'bg-[#0f2137] text-[#64748b] border border-[#1e3a5f]'\n                      }`}\n                    >\n                      <span className=\"w-6 h-6 rounded-full bg-current/20 flex items-center justify-center text-sm\">\n                        {index + 1}\n                      </span>\n                      <span className=\"hidden sm:inline\">{step.name}</span>\n                    </button>\n                    {index < steps.length - 1 && (\n                      <Icons.chevronRight className=\"w-4 h-4 text-[#334155] mx-2\" />\n                    )}\n                  </div>\n                );\n              })}\n            </div>\n\n            {/* Step Content */}\n            <div className=\"animate-fade-in\">\n              {/* Step 1: Industry Selection */}\n              {currentStep === 'industry' && (\n                <div className=\"space-y-6\">\n                  <div className=\"text-center\">\n                    <h2 className=\"text-2xl font-bold text-white mb-2\">Select Your Domain</h2>\n                    <p className=\"text-[#94a3b8]\">Choose your primary use case to see relevant templates</p>\n                  </div>\n\n                  <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-4 max-w-4xl mx-auto\">\n                    {INDUSTRY_OPTIONS.map((industry) => {\n                      const IndustryIcon = Icons[industry.icon as keyof typeof Icons];\n                      return (\n                        <button\n                          key={industry.id}\n                          onClick={() => handleSelectIndustry(industry.id)}\n                          className=\"card p-6 text-left hover:border-[#d4a853] transition-all group\"\n                        >\n                          <div className=\"flex items-start gap-4\">\n                            <div\n                              className=\"w-14 h-14 rounded-xl flex items-center justify-center shrink-0\"\n                              style={{ background: `${industry.color}20` }}\n                            >\n                              {IndustryIcon && <IndustryIcon className=\"w-7 h-7\" style={{ color: industry.color }} />}\n                            </div>\n                            <div>\n                              <h3 className=\"font-semibold text-white group-hover:text-[#d4a853] transition-colors\">\n                                {industry.name}\n                              </h3>\n                              <p className=\"text-sm text-[#64748b] mt-1\">{industry.description}</p>\n                            </div>\n                          </div>\n                        </button>\n                      );\n                    })}\n\n                    {/* Browse All */}\n                    <button\n                      onClick={() => {\n                        setSelectedIndustry(null);\n                        setSelectedCategory('all');\n                        setCurrentStep('template');\n                      }}\n                      className=\"card p-6 text-left hover:border-[#d4a853] transition-all group border-dashed\"\n                    >\n                      <div className=\"flex items-center gap-4\">\n                        <div className=\"w-14 h-14 rounded-xl border-2 border-dashed border-[#334155] flex items-center justify-center\">\n                          <Icons.search className=\"w-7 h-7 text-[#64748b]\" />\n                        </div>\n                        <div>\n                          <h3 className=\"font-semibold text-white group-hover:text-[#d4a853] transition-colors\">\n                            Browse All Templates\n                          </h3>\n                          <p className=\"text-sm text-[#64748b] mt-1\">View all 18 finance templates</p>\n                        </div>\n                      </div>\n                    </button>\n                  </div>\n                </div>\n              )}\n\n              {/* Step 2: Template Selection */}\n              {currentStep === 'template' && (\n                <div className=\"space-y-6\">\n                  <div className=\"text-center\">\n                    <h2 className=\"text-2xl font-bold text-white mb-2\">Choose a Template</h2>\n                    <p className=\"text-[#94a3b8]\">Select a financial analysis template or start from scratch</p>\n                  </div>\n\n                  {/* Search & Categories */}\n                  <div className=\"flex flex-col md:flex-row gap-4 items-center justify-between\">\n                    {/* Categories */}\n                    <div className=\"flex flex-wrap justify-center gap-2\">\n                      {TEMPLATE_CATEGORIES.map(cat => (\n                        <button\n                          key={cat.id}\n                          onClick={() => setSelectedCategory(cat.id)}\n                          className={`px-4 py-2 rounded-xl text-sm transition-all ${\n                            selectedCategory === cat.id\n                              ? 'bg-[rgba(212,168,83,0.15)] text-[#d4a853] border border-[rgba(212,168,83,0.3)]'\n                              : 'bg-[#0f2137] text-[#94a3b8] hover:text-white border border-[#1e3a5f]'\n                          }`}\n                        >\n                          <span className=\"mr-2\">{cat.icon}</span>\n                          {cat.name}\n                        </button>\n                      ))}\n                    </div>\n\n                    {/* Search */}\n                    <div className=\"relative\">\n                      <Icons.search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[#64748b]\" />\n                      <input\n                        type=\"text\"\n                        placeholder=\"Search templates...\"\n                        value={searchQuery}\n                        onChange={(e) => setSearchQuery(e.target.value)}\n                        className=\"pl-10 pr-4 py-2 bg-[#0f2137] border border-[#1e3a5f] rounded-lg text-sm text-white placeholder-[#64748b] focus:border-[#d4a853] focus:outline-none w-64\"\n                      />\n                    </div>\n                  </div>\n\n                  {/* Template Grid */}\n                  <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                    {filteredTemplates.map(template => (\n                      <button\n                        key={template.id}\n                        onClick={() => handleSelectTemplate(template)}\n                        className=\"card p-5 text-left hover:border-[#d4a853] transition-all group\"\n                      >\n                        <div className=\"flex items-start gap-4\">\n                          <div className=\"w-12 h-12 rounded-xl bg-gradient-to-br from-[#d4a853] to-[#b8953f] flex items-center justify-center text-2xl shrink-0\">\n                            {template.icon}\n                          </div>\n                          <div className=\"flex-1 min-w-0\">\n                            <h3 className=\"font-semibold text-white group-hover:text-[#d4a853] transition-colors truncate\">\n                              {template.name}\n                            </h3>\n                            <p className=\"text-sm text-[#64748b] mt-1 line-clamp-2\">{template.description}</p>\n                            <div className=\"flex flex-wrap gap-1 mt-2\">\n                              <span className={`badge badge-${template.difficulty}`}>\n                                {template.difficulty}\n                              </span>\n                              <span className=\"text-xs text-[#64748b]\">{template.estimatedTime}</span>\n                              {template.outputFormats.includes('excel') && (\n                                <span className=\"badge badge-excel text-xs\">Excel</span>\n                              )}\n                            </div>\n                          </div>\n                        </div>\n                      </button>\n                    ))}\n\n                    {/* Blank template option */}\n                    <button\n                      onClick={() => {\n                        setSelectedTemplate(null);\n                        setPrompt('');\n                        setCurrentStep('customize');\n                      }}\n                      className=\"card p-5 text-left hover:border-[#d4a853] transition-all group border-dashed\"\n                    >\n                      <div className=\"flex items-center gap-4\">\n                        <div className=\"w-12 h-12 rounded-xl border-2 border-dashed border-[#334155] flex items-center justify-center\">\n                          <Icons.plus className=\"w-6 h-6 text-[#64748b]\" />\n                        </div>\n                        <div>\n                          <h3 className=\"font-semibold text-white group-hover:text-[#d4a853] transition-colors\">\n                            Start from Scratch\n                          </h3>\n                          <p className=\"text-sm text-[#64748b] mt-1\">Write your own prompt</p>\n                        </div>\n                      </div>\n                    </button>\n                  </div>\n\n                  {/* Back button */}\n                  <div className=\"flex justify-center\">\n                    <button\n                      onClick={() => setCurrentStep('industry')}\n                      className=\"btn-secondary\"\n                    >\n                      <Icons.arrowLeft className=\"w-4 h-4 inline mr-2\" />\n                      Back to Industry Selection\n                    </button>\n                  </div>\n                </div>\n              )}\n\n              {/* Step 3: Customize */}\n              {currentStep === 'customize' && (\n                <div className=\"grid lg:grid-cols-2 gap-6\">\n                  {/* Left: Variables or Editor */}\n                  <div className=\"space-y-4\">\n                    <div className=\"flex items-center justify-between\">\n                      <h2 className=\"text-xl font-bold text-white\">\n                        {selectedTemplate ? 'Financial Details' : 'Write Your Prompt'}\n                      </h2>\n                      <HelpTooltip content=\"Fill in each field to customize your financial analysis prompt.\" />\n                    </div>\n\n                    {selectedTemplate ? (\n                      <div className=\"space-y-4\">\n                        {/* Template info card */}\n                        <div className=\"card p-4 bg-[rgba(212,168,83,0.1)] border-[rgba(212,168,83,0.2)]\">\n                          <div className=\"flex items-center gap-3\">\n                            <span className=\"text-2xl\">{selectedTemplate.icon}</span>\n                            <div>\n                              <h3 className=\"font-semibold text-white\">{selectedTemplate.name}</h3>\n                              <div className=\"flex gap-2 mt-1\">\n                                <span className={`badge badge-${selectedTemplate.difficulty}`}>\n                                  {selectedTemplate.difficulty}\n                                </span>\n                                <span className=\"text-xs text-[#94a3b8]\">{selectedTemplate.estimatedTime}</span>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n\n                        {/* Variable inputs */}\n                        {selectedTemplate.variables.map(variable => (\n                          <div key={variable.name} className=\"space-y-2\">\n                            <label className=\"flex items-center gap-2 text-sm font-medium text-[#94a3b8]\">\n                              <span className=\"text-[#d4a853]\">{`{{${variable.name}}}`}</span>\n                              {variable.type && (\n                                <span className=\"text-xs px-1.5 py-0.5 bg-[#1e3a5f] rounded text-[#64748b]\">\n                                  {variable.type}\n                                </span>\n                              )}\n                              <HelpTooltip content={variable.description} />\n                            </label>\n                            {renderVariableInput(variable)}\n                          </div>\n                        ))}\n                      </div>\n                    ) : (\n                      <textarea\n                        value={prompt}\n                        onChange={(e) => setPrompt(e.target.value)}\n                        className=\"input h-64 resize-none font-mono text-sm\"\n                        placeholder=\"Write your financial analysis prompt here...\n\nTips for finance prompts:\nâ€¢ Specify the company/asset being analyzed\nâ€¢ Include relevant financial metrics\nâ€¢ Define the analysis timeframe\nâ€¢ Use {{variables}} for dynamic content\nâ€¢ Request specific output formats (tables, charts)\"\n                      />\n                    )}\n\n                    <div className=\"flex gap-3\">\n                      <button\n                        onClick={() => setCurrentStep('template')}\n                        className=\"btn-secondary flex-1\"\n                      >\n                        <Icons.arrowLeft className=\"w-4 h-4 inline mr-2\" />\n                        Back\n                      </button>\n                      <button\n                        onClick={() => setCurrentStep('review')}\n                        disabled={selectedTemplate ? Object.values(variableValues).some(v => !v) : !prompt}\n                        className=\"btn-primary flex-1 disabled:opacity-50 disabled:cursor-not-allowed\"\n                      >\n                        Continue to Review\n                        <Icons.arrowRight className=\"w-4 h-4 inline ml-2\" />\n                      </button>\n                    </div>\n                  </div>\n\n                  {/* Right: Preview */}\n                  <div className=\"space-y-4\">\n                    <div className=\"flex items-center justify-between\">\n                      <h2 className=\"text-xl font-bold text-white\">Live Preview</h2>\n                      <div className=\"flex items-center gap-2 text-sm text-[#64748b]\">\n                        <Icons.eye className=\"w-4 h-4\" />\n                        Updates as you type\n                      </div>\n                    </div>\n\n                    <div className=\"card p-6 min-h-[300px]\">\n                      <pre className=\"whitespace-pre-wrap text-sm text-[#94a3b8] font-mono\">\n                        {selectedTemplate ? generatePrompt() : prompt || 'Your prompt will appear here...'}\n                      </pre>\n                    </div>\n\n                    {/* Quick Stats */}\n                    {analysisResults && (\n                      <div className=\"grid grid-cols-2 gap-4\">\n                        <div className=\"card p-4 text-center\">\n                          <div className=\"text-2xl font-bold text-[#d4a853] tabular-nums\">{analysisResults.tokens}</div>\n                          <div className=\"text-xs text-[#64748b]\">Tokens</div>\n                        </div>\n                        <div className=\"card p-4 text-center\">\n                          <div className=\"text-2xl font-bold text-white tabular-nums\">${analysisResults.cost.toFixed(4)}</div>\n                          <div className=\"text-xs text-[#64748b]\">Est. Cost</div>\n                        </div>\n                      </div>\n                    )}\n\n                    {/* Model recommendation */}\n                    {selectedTemplate && (\n                      <div className=\"card p-4 bg-[rgba(20,184,166,0.1)] border-[rgba(20,184,166,0.2)]\">\n                        <div className=\"flex items-center gap-2 text-[#14b8a6] mb-2\">\n                          <Icons.lightbulb className=\"w-4 h-4\" />\n                          <span className=\"text-sm font-medium\">Recommended Model</span>\n                        </div>\n                        <p className=\"text-xs text-[#94a3b8]\">\n                          {MODEL_RECOMMENDATIONS[selectedTemplate.difficulty].reason}\n                        </p>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              )}\n\n              {/* Step 4: Review */}\n              {currentStep === 'review' && (\n                <div className=\"max-w-4xl mx-auto space-y-6\">\n                  <div className=\"text-center\">\n                    <h2 className=\"text-2xl font-bold text-white mb-2\">Review & Optimize</h2>\n                    <p className=\"text-[#94a3b8]\">Review your prompt and apply optimizations</p>\n                  </div>\n\n                  {/* Analysis Cards */}\n                  <div className=\"grid md:grid-cols-4 gap-4\">\n                    <div className=\"card p-4 text-center\">\n                      <div className=\"text-3xl font-bold text-[#d4a853] tabular-nums\">{analysisResults?.tokens || 0}</div>\n                      <div className=\"text-sm text-[#64748b]\">Tokens</div>\n                    </div>\n                    <div className=\"card p-4 text-center\">\n                      <div className=\"text-3xl font-bold text-[#14b8a6] tabular-nums\">{analysisResults?.compressionSavings || 0}%</div>\n                      <div className=\"text-sm text-[#64748b]\">Can Save</div>\n                    </div>\n                    <div className=\"card p-4 text-center\">\n                      <div className={`text-3xl font-bold tabular-nums ${analysisResults?.piiCount ? 'text-[#dc2626]' : 'text-[#059669]'}`}>\n                        {analysisResults?.piiCount || 0}\n                      </div>\n                      <div className=\"text-sm text-[#64748b]\">PII Found</div>\n                    </div>\n                    <div className=\"card p-4 text-center\">\n                      <div className={`text-3xl font-bold capitalize ${\n                        analysisResults?.injectionRisk === 'none' ? 'text-[#059669]' :\n                        analysisResults?.injectionRisk === 'low' ? 'text-[#d4a853]' :\n                        'text-[#dc2626]'\n                      }`}>\n                        {analysisResults?.injectionRisk || 'None'}\n                      </div>\n                      <div className=\"text-sm text-[#64748b]\">Risk Level</div>\n                    </div>\n                  </div>\n\n                  {/* Actions */}\n                  <div className=\"grid md:grid-cols-2 gap-4\">\n                    <button\n                      onClick={handleOptimize}\n                      className=\"card p-5 text-left hover:border-[#d4a853] transition-all group\"\n                    >\n                      <div className=\"flex items-center gap-4\">\n                        <div className=\"w-12 h-12 rounded-xl bg-[rgba(212,168,83,0.2)] flex items-center justify-center text-[#d4a853]\">\n                          <Icons.compress className=\"w-6 h-6\" />\n                        </div>\n                        <div>\n                          <h3 className=\"font-semibold text-white group-hover:text-[#d4a853]\">Compress Prompt</h3>\n                          <p className=\"text-sm text-[#64748b]\">Remove filler words, save ~{analysisResults?.compressionSavings || 0}% tokens</p>\n                        </div>\n                      </div>\n                    </button>\n\n                    <button\n                      onClick={handleSecurityScan}\n                      className=\"card p-5 text-left hover:border-[#d4a853] transition-all group\"\n                    >\n                      <div className=\"flex items-center gap-4\">\n                        <div className=\"w-12 h-12 rounded-xl bg-[rgba(220,38,38,0.2)] flex items-center justify-center text-[#dc2626]\">\n                          <Icons.shield className=\"w-6 h-6\" />\n                        </div>\n                        <div>\n                          <h3 className=\"font-semibold text-white group-hover:text-[#d4a853]\">Redact PII</h3>\n                          <p className=\"text-sm text-[#64748b]\">Remove {analysisResults?.piiCount || 0} sensitive items found</p>\n                        </div>\n                      </div>\n                    </button>\n                  </div>\n\n                  {/* Preview */}\n                  <div className=\"card p-6\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                      <span className=\"text-sm text-[#64748b]\">Prompt Preview</span>\n                      {selectedTemplate && (\n                        <div className=\"flex gap-2\">\n                          {selectedTemplate.outputFormats.map(format => (\n                            <span key={format} className={`badge badge-${format} text-xs`}>\n                              {format.toUpperCase()}\n                            </span>\n                          ))}\n                        </div>\n                      )}\n                    </div>\n                    <pre className=\"whitespace-pre-wrap text-sm text-[#94a3b8] font-mono max-h-64 overflow-auto\">\n                      {selectedTemplate ? generatePrompt() : prompt}\n                    </pre>\n                  </div>\n\n                  <div className=\"flex gap-4\">\n                    <button\n                      onClick={() => setCurrentStep('customize')}\n                      className=\"btn-secondary flex-1\"\n                    >\n                      <Icons.arrowLeft className=\"w-4 h-4 inline mr-2\" />\n                      Back\n                    </button>\n                    <button\n                      onClick={() => setCurrentStep('export')}\n                      className=\"btn-primary flex-1\"\n                    >\n                      Continue to Export\n                      <Icons.arrowRight className=\"w-4 h-4 inline ml-2\" />\n                    </button>\n                  </div>\n                </div>\n              )}\n\n              {/* Step 5: Export */}\n              {currentStep === 'export' && (\n                <div className=\"max-w-4xl mx-auto space-y-6\">\n                  <div className=\"text-center\">\n                    <h2 className=\"text-2xl font-bold text-white mb-2\">Your Prompt is Ready!</h2>\n                    <p className=\"text-[#94a3b8]\">Choose your export format and copy</p>\n                  </div>\n\n                  {/* Export Format Selection */}\n                  <div className=\"grid md:grid-cols-5 gap-3\">\n                    {EXPORT_FORMATS.map(format => {\n                      const FormatIcon = Icons[format.icon as keyof typeof Icons];\n                      return (\n                        <button\n                          key={format.id}\n                          onClick={() => setSelectedExportFormat(format.id)}\n                          className={`card p-4 text-center transition-all ${\n                            selectedExportFormat === format.id\n                              ? 'border-[#d4a853] bg-[rgba(212,168,83,0.1)]'\n                              : 'hover:border-[#2d4a6f]'\n                          }`}\n                        >\n                          {FormatIcon && <FormatIcon className={`w-6 h-6 mx-auto mb-2 ${selectedExportFormat === format.id ? 'text-[#d4a853]' : 'text-[#64748b]'}`} />}\n                          <div className={`text-sm font-medium ${selectedExportFormat === format.id ? 'text-[#d4a853]' : 'text-white'}`}>\n                            {format.name}\n                          </div>\n                          <div className=\"text-xs text-[#64748b] mt-1\">{format.description}</div>\n                        </button>\n                      );\n                    })}\n                  </div>\n\n                  {/* Audit Mode Toggle */}\n                  <div className=\"card p-4\">\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center gap-3\">\n                        <Icons.documentChart className=\"w-5 h-5 text-[#64748b]\" />\n                        <div>\n                          <div className=\"text-sm font-medium text-white\">Audit Mode</div>\n                          <div className=\"text-xs text-[#64748b]\">Log exports for compliance tracking</div>\n                        </div>\n                      </div>\n                      <button\n                        onClick={() => setAuditMode(!auditMode)}\n                        className={`w-12 h-6 rounded-full transition-colors ${auditMode ? 'bg-[#d4a853]' : 'bg-[#334155]'}`}\n                      >\n                        <div className={`w-5 h-5 rounded-full bg-white shadow transition-transform ${auditMode ? 'translate-x-6' : 'translate-x-0.5'}`} />\n                      </button>\n                    </div>\n                  </div>\n\n                  {/* Final Prompt */}\n                  <div className=\"card p-6\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                      <span className=\"text-sm text-[#64748b]\">\n                        {selectedExportFormat === 'copy' ? 'Final Prompt' : `${EXPORT_FORMATS.find(f => f.id === selectedExportFormat)?.name} Format`}\n                      </span>\n                      <button\n                        onClick={handleCopy}\n                        className={`flex items-center gap-2 px-4 py-2 rounded-lg transition-all ${\n                          copied ? 'bg-[#059669] text-white' : 'bg-[rgba(212,168,83,0.2)] text-[#d4a853] hover:bg-[rgba(212,168,83,0.3)]'\n                        }`}\n                      >\n                        <Icons.copy className=\"w-4 h-4\" />\n                        {copied ? 'Copied!' : 'Copy'}\n                      </button>\n                    </div>\n                    <pre className=\"whitespace-pre-wrap text-sm text-[#94a3b8] font-mono max-h-64 overflow-auto\">\n                      {formatPromptForExport(selectedExportFormat)}\n                    </pre>\n                  </div>\n\n                  {/* Stats Summary */}\n                  <div className=\"grid grid-cols-3 gap-4\">\n                    <div className=\"card p-4 text-center\">\n                      <div className=\"text-2xl font-bold text-[#d4a853] tabular-nums\">{analysisResults?.tokens || 0}</div>\n                      <div className=\"text-xs text-[#64748b]\">Total Tokens</div>\n                    </div>\n                    <div className=\"card p-4 text-center\">\n                      <div className=\"text-2xl font-bold text-white tabular-nums\">${analysisResults?.cost.toFixed(4) || '0.0000'}</div>\n                      <div className=\"text-xs text-[#64748b]\">Estimated Cost</div>\n                    </div>\n                    <div className=\"card p-4 text-center\">\n                      <div className=\"text-2xl font-bold text-[#059669]\">âœ“</div>\n                      <div className=\"text-xs text-[#64748b]\">Security Checked</div>\n                    </div>\n                  </div>\n\n                  {/* Actions */}\n                  <div className=\"flex gap-4\">\n                    <button\n                      onClick={() => setCurrentStep('review')}\n                      className=\"btn-secondary flex-1\"\n                    >\n                      <Icons.arrowLeft className=\"w-4 h-4 inline mr-2\" />\n                      Back\n                    </button>\n                    <button\n                      onClick={() => {\n                        setCurrentStep('industry');\n                        setSelectedIndustry(null);\n                        setSelectedTemplate(null);\n                        setPrompt('');\n                        setVariableValues({});\n                      }}\n                      className=\"btn-primary flex-1\"\n                    >\n                      <Icons.plus className=\"w-4 h-4 inline mr-2\" />\n                      Create Another\n                    </button>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n\n        {/* Expert Mode */}\n        {mode === 'expert' && (\n          <ExpertMode\n            prompt={prompt}\n            setPrompt={setPrompt}\n            selectedModel={selectedModel}\n            setSelectedModel={setSelectedModel}\n            analysisResults={analysisResults}\n            onCopy={handleCopy}\n            copied={copied}\n            auditMode={auditMode}\n            setAuditMode={setAuditMode}\n          />\n        )}\n      </main>\n\n      {/* History Panel */}\n      {showHistory && (\n        <div className=\"fixed inset-y-0 right-0 w-80 bg-[#0f2137] border-l border-[#1e3a5f] z-50 animate-slide-in\">\n          <div className=\"p-4 border-b border-[#1e3a5f] flex items-center justify-between\">\n            <h3 className=\"font-semibold text-white\">Recent Prompts</h3>\n            <button onClick={() => setShowHistory(false)} className=\"p-1 hover:text-[#d4a853]\">\n              <Icons.x className=\"w-5 h-5\" />\n            </button>\n          </div>\n          <div className=\"p-4 space-y-3 overflow-auto max-h-[calc(100vh-64px)]\">\n            {history.length === 0 ? (\n              <p className=\"text-[#64748b] text-sm\">No prompts yet. Create one to get started!</p>\n            ) : (\n              history.map((item, i) => (\n                <button\n                  key={i}\n                  onClick={() => {\n                    setPrompt(item);\n                    setShowHistory(false);\n                    setMode('expert');\n                  }}\n                  className=\"w-full p-3 card text-left hover:border-[#d4a853] transition-all\"\n                >\n                  <p className=\"text-sm text-[#94a3b8] line-clamp-3\">{item}</p>\n                </button>\n              ))\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n// Expert Mode Component\nfunction ExpertMode({\n  prompt,\n  setPrompt,\n  selectedModel,\n  setSelectedModel,\n  analysisResults,\n  onCopy,\n  copied,\n  auditMode,\n  setAuditMode,\n}: {\n  prompt: string;\n  setPrompt: (p: string) => void;\n  selectedModel: string;\n  setSelectedModel: (m: string) => void;\n  analysisResults: any;\n  onCopy: () => void;\n  copied: boolean;\n  auditMode: boolean;\n  setAuditMode: (v: boolean) => void;\n}) {\n  const [activeFeature, setActiveFeature] = useState<string | null>(null);\n  const [compressionLevel, setCompressionLevel] = useState<'low' | 'medium' | 'high'>('medium');\n  const [outputFormat, setOutputFormat] = useState<'standard' | 'excel' | 'slides' | 'memo'>('standard');\n  const [result, setResult] = useState<React.ReactNode>(null);\n\n  const features = [\n    { id: 'variables', name: 'Variables', icon: 'variable' as const, desc: 'Extract & substitute' },\n    { id: 'compress', name: 'Compress', icon: 'compress' as const, desc: 'Reduce tokens' },\n    { id: 'security', name: 'Security', icon: 'shield' as const, desc: 'PII & injection' },\n    { id: 'cost', name: 'Cost', icon: 'calculator' as const, desc: 'Token pricing' },\n    { id: 'format', name: 'Format', icon: 'spreadsheet' as const, desc: 'Output presets' },\n  ];\n\n  const handleFeatureAction = (featureId: string) => {\n    switch (featureId) {\n      case 'variables': {\n        const vars = extractVariables(prompt);\n        setResult(\n          <div className=\"space-y-3\">\n            <p className=\"text-sm text-[#94a3b8]\">Found {vars.length} variables:</p>\n            {vars.map(v => (\n              <div key={v.name} className=\"flex items-center gap-2 text-sm\">\n                <code className=\"px-2 py-1 bg-[rgba(212,168,83,0.2)] text-[#d4a853] rounded\">{`{{${v.name}}}`}</code>\n                {v.defaultValue && <span className=\"text-[#64748b]\">default: {v.defaultValue}</span>}\n                {v.type && <span className=\"text-[#64748b]\">type: {v.type}</span>}\n              </div>\n            ))}\n          </div>\n        );\n        break;\n      }\n      case 'compress': {\n        const compressed = compressPrompt(prompt, { aggressiveness: compressionLevel });\n        setPrompt(compressed.compressed);\n        setResult(\n          <div className=\"space-y-3\">\n            <div className=\"grid grid-cols-3 gap-3\">\n              <div className=\"text-center\">\n                <div className=\"text-xl font-bold text-white tabular-nums\">{compressed.originalTokens}</div>\n                <div className=\"text-xs text-[#64748b]\">Original</div>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-xl font-bold text-[#d4a853] tabular-nums\">{compressed.compressedTokens}</div>\n                <div className=\"text-xs text-[#64748b]\">Compressed</div>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-xl font-bold text-[#059669] tabular-nums\">{compressed.savings}%</div>\n                <div className=\"text-xs text-[#64748b]\">Saved</div>\n              </div>\n            </div>\n          </div>\n        );\n        break;\n      }\n      case 'security': {\n        const pii = detectPII(prompt);\n        const { redacted } = redactPII(prompt);\n        const riskLevel = getInjectionRiskLevel(prompt);\n        setPrompt(redacted);\n        setResult(\n          <div className=\"space-y-3\">\n            <div className=\"flex items-center gap-4\">\n              <div>\n                <span className=\"text-sm text-[#94a3b8]\">PII: </span>\n                <span className={`font-bold ${pii.length ? 'text-[#dc2626]' : 'text-[#059669]'}`}>\n                  {pii.length} found\n                </span>\n              </div>\n              <div>\n                <span className=\"text-sm text-[#94a3b8]\">Risk: </span>\n                <span className={`font-bold capitalize ${\n                  riskLevel === 'none' ? 'text-[#059669]' :\n                  riskLevel === 'low' ? 'text-[#d4a853]' : 'text-[#dc2626]'\n                }`}>\n                  {riskLevel}\n                </span>\n              </div>\n            </div>\n            <p className=\"text-sm text-[#059669]\">Prompt has been redacted.</p>\n          </div>\n        );\n        break;\n      }\n      case 'cost': {\n        const cost = calculateCost(prompt, 500, selectedModel);\n        setResult(\n          <div className=\"space-y-3\">\n            <div className=\"grid grid-cols-2 gap-3\">\n              <div className=\"text-center\">\n                <div className=\"text-xl font-bold text-[#d4a853] tabular-nums\">{cost.inputTokens}</div>\n                <div className=\"text-xs text-[#64748b]\">Input Tokens</div>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-xl font-bold text-white tabular-nums\">${cost.totalCost.toFixed(4)}</div>\n                <div className=\"text-xs text-[#64748b]\">Per Request</div>\n              </div>\n            </div>\n          </div>\n        );\n        break;\n      }\n      case 'format': {\n        let formatInstructions = '';\n        switch (outputFormat) {\n          case 'excel':\n            formatInstructions = '\\n\\n=== OUTPUT FORMAT: EXCEL ===\\nPlease format all output as:\\n- Tabular data with clear headers\\n- Currency values: $X,XXX.XX\\n- Percentages: X.X%\\n- Dates: YYYY-MM-DD';\n            break;\n          case 'slides':\n            formatInstructions = '\\n\\n=== OUTPUT FORMAT: SLIDES ===\\nPlease format all output as:\\n- Bullet points (max 5 per section)\\n- Clear section headers\\n- Key metrics highlighted\\n- Executive summary first';\n            break;\n          case 'memo':\n            formatInstructions = '\\n\\n=== OUTPUT FORMAT: MEMO ===\\nPlease structure as:\\n- Executive Summary\\n- Key Findings\\n- Detailed Analysis\\n- Recommendations\\n- Appendix';\n            break;\n        }\n        if (formatInstructions && !prompt.includes('OUTPUT FORMAT')) {\n          setPrompt(prompt + formatInstructions);\n        }\n        setResult(\n          <div className=\"text-sm text-[#059669]\">\n            Output format instructions added to prompt.\n          </div>\n        );\n        break;\n      }\n    }\n  };\n\n  return (\n    <div className=\"grid lg:grid-cols-3 gap-6\">\n      {/* Editor */}\n      <div className=\"lg:col-span-2 space-y-4\">\n        <div className=\"flex items-center justify-between\">\n          <h2 className=\"text-xl font-bold text-white\">Prompt Editor</h2>\n          <div className=\"flex items-center gap-2\">\n            <select\n              value={selectedModel}\n              onChange={(e) => setSelectedModel(e.target.value)}\n              className=\"bg-[#0f2137] border border-[#1e3a5f] rounded-lg px-3 py-2 text-sm text-white\"\n            >\n              {MODEL_PRICING.map((m) => (\n                <option key={m.id} value={m.id}>{m.name}</option>\n              ))}\n            </select>\n            <button\n              onClick={onCopy}\n              className={`flex items-center gap-2 px-4 py-2 rounded-lg transition-all ${\n                copied ? 'bg-[#059669] text-white' : 'bg-[rgba(212,168,83,0.2)] text-[#d4a853] hover:bg-[rgba(212,168,83,0.3)]'\n              }`}\n            >\n              <Icons.copy className=\"w-4 h-4\" />\n              {copied ? 'Copied!' : 'Copy'}\n            </button>\n          </div>\n        </div>\n\n        <textarea\n          value={prompt}\n          onChange={(e) => setPrompt(e.target.value)}\n          className=\"input h-96 resize-none font-mono text-sm\"\n          placeholder=\"Enter your financial analysis prompt here...\n\nExpert tips:\nâ€¢ Use {{variable:default|type}} for typed variables\nâ€¢ Supported types: text, currency, percentage, number, date, select\nâ€¢ Add output format instructions for Excel/slides/memo\nâ€¢ Enable audit mode for compliance tracking\"\n        />\n\n        {/* Quick Stats Bar */}\n        {analysisResults && (\n          <div className=\"flex items-center gap-6 text-sm\">\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-[#64748b]\">Tokens:</span>\n              <span className=\"text-[#d4a853] font-medium tabular-nums\">{analysisResults.tokens}</span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-[#64748b]\">Cost:</span>\n              <span className=\"text-white font-medium tabular-nums\">${analysisResults.cost.toFixed(4)}</span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-[#64748b]\">PII:</span>\n              <span className={`font-medium tabular-nums ${analysisResults.piiCount ? 'text-[#dc2626]' : 'text-[#059669]'}`}>\n                {analysisResults.piiCount}\n              </span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-[#64748b]\">Risk:</span>\n              <span className={`font-medium capitalize ${\n                analysisResults.injectionRisk === 'none' ? 'text-[#059669]' :\n                analysisResults.injectionRisk === 'low' ? 'text-[#d4a853]' : 'text-[#dc2626]'\n              }`}>\n                {analysisResults.injectionRisk}\n              </span>\n            </div>\n          </div>\n        )}\n\n        {/* Audit Mode Toggle */}\n        <div className=\"card p-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <Icons.documentChart className=\"w-5 h-5 text-[#64748b]\" />\n              <div>\n                <div className=\"text-sm font-medium text-white\">Audit Mode</div>\n                <div className=\"text-xs text-[#64748b]\">Log exports for compliance tracking</div>\n              </div>\n            </div>\n            <button\n              onClick={() => setAuditMode(!auditMode)}\n              className={`w-12 h-6 rounded-full transition-colors ${auditMode ? 'bg-[#d4a853]' : 'bg-[#334155]'}`}\n            >\n              <div className={`w-5 h-5 rounded-full bg-white shadow transition-transform ${auditMode ? 'translate-x-6' : 'translate-x-0.5'}`} />\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Features Panel */}\n      <div className=\"space-y-4\">\n        <h2 className=\"text-xl font-bold text-white\">Tools</h2>\n\n        <div className=\"space-y-3\">\n          {features.map((f) => {\n            const FeatureIcon = Icons[f.icon as keyof typeof Icons];\n            return (\n              <div key={f.id} className=\"card overflow-hidden\">\n                <button\n                  onClick={() => setActiveFeature(activeFeature === f.id ? null : f.id)}\n                  className=\"w-full p-4 flex items-center justify-between hover:bg-[#162a45] transition-colors\"\n                >\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"w-10 h-10 rounded-lg bg-[rgba(212,168,83,0.2)] flex items-center justify-center text-[#d4a853]\">\n                      {FeatureIcon && <FeatureIcon className=\"w-5 h-5\" />}\n                    </div>\n                    <div className=\"text-left\">\n                      <div className=\"font-medium text-white\">{f.name}</div>\n                      <div className=\"text-xs text-[#64748b]\">{f.desc}</div>\n                    </div>\n                  </div>\n                  <Icons.chevronDown\n                    className={`w-5 h-5 text-[#64748b] transition-transform ${activeFeature === f.id ? 'rotate-180' : ''}`}\n                  />\n                </button>\n\n                {activeFeature === f.id && (\n                  <div className=\"p-4 border-t border-[#1e3a5f] bg-[#0a1929] animate-fade-in\">\n                    {f.id === 'compress' && (\n                      <div className=\"mb-4\">\n                        <label className=\"text-xs text-[#64748b] mb-2 block\">Aggressiveness</label>\n                        <div className=\"flex gap-2\">\n                          {(['low', 'medium', 'high'] as const).map((level) => (\n                            <button\n                              key={level}\n                              onClick={() => setCompressionLevel(level)}\n                              className={`flex-1 py-2 rounded-lg text-sm capitalize ${\n                                compressionLevel === level\n                                  ? 'bg-[#d4a853] text-[#0a1929]'\n                                  : 'bg-[#0f2137] text-[#94a3b8] border border-[#1e3a5f]'\n                              }`}\n                            >\n                              {level}\n                            </button>\n                          ))}\n                        </div>\n                      </div>\n                    )}\n\n                    {f.id === 'cost' && (\n                      <div className=\"mb-4\">\n                        <label className=\"text-xs text-[#64748b] mb-2 block\">Model</label>\n                        <select\n                          value={selectedModel}\n                          onChange={(e) => setSelectedModel(e.target.value)}\n                          className=\"w-full bg-[#0f2137] border border-[#1e3a5f] rounded-lg px-3 py-2 text-sm text-white\"\n                        >\n                          {MODEL_PRICING.map((m) => (\n                            <option key={m.id} value={m.id}>{m.name} - ${m.inputPricePerMillion}/1M</option>\n                          ))}\n                        </select>\n                      </div>\n                    )}\n\n                    {f.id === 'format' && (\n                      <div className=\"mb-4\">\n                        <label className=\"text-xs text-[#64748b] mb-2 block\">Output Format</label>\n                        <div className=\"grid grid-cols-2 gap-2\">\n                          {[\n                            { id: 'standard', label: 'Standard' },\n                            { id: 'excel', label: 'Excel Table' },\n                            { id: 'slides', label: 'Slide Bullets' },\n                            { id: 'memo', label: 'Memo Format' },\n                          ].map((fmt) => (\n                            <button\n                              key={fmt.id}\n                              onClick={() => setOutputFormat(fmt.id as any)}\n                              className={`py-2 rounded-lg text-sm ${\n                                outputFormat === fmt.id\n                                  ? 'bg-[#d4a853] text-[#0a1929]'\n                                  : 'bg-[#0f2137] text-[#94a3b8] border border-[#1e3a5f]'\n                              }`}\n                            >\n                              {fmt.label}\n                            </button>\n                          ))}\n                        </div>\n                      </div>\n                    )}\n\n                    <button\n                      onClick={() => handleFeatureAction(f.id)}\n                      className=\"btn-primary w-full py-2 text-sm\"\n                      disabled={!prompt}\n                    >\n                      Run {f.name}\n                    </button>\n\n                    {result && activeFeature === f.id && (\n                      <div className=\"mt-4 p-3 bg-[#0f2137] rounded-lg border border-[#1e3a5f]\">\n                        {result}\n                      </div>\n                    )}\n                  </div>\n                )}\n              </div>\n            );\n          })}\n        </div>\n\n        {/* Finance Pro Tips */}\n        <div className=\"card p-4 bg-[rgba(212,168,83,0.1)] border-[rgba(212,168,83,0.2)]\">\n          <div className=\"flex items-center gap-2 text-[#d4a853] mb-2\">\n            <Icons.lightbulb className=\"w-4 h-4\" />\n            <span className=\"text-sm font-medium\">Finance Pro Tip</span>\n          </div>\n          <p className=\"text-xs text-[#94a3b8]\">\n            Use the Format tool to add Excel-ready or slide-friendly output instructions.\n            Enable Audit Mode for compliance tracking in regulated environments.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}